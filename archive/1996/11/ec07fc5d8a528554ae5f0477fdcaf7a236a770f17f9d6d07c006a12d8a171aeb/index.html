<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="Ec07fc5d8a528554ae5f0477fdcaf7a236a770f17f9d6d07c006a12d8a171aeb" /><meta name="keywords" content="Ec07fc5d8a528554ae5f0477fdcaf7a236a770f17f9d6d07c006a12d8a171aeb, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="Ec07fc5d8a528554ae5f0477fdcaf7a236a770f17f9d6d07c006a12d8a171aeb" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1996/11/ec07fc5d8a528554ae5f0477fdcaf7a236a770f17f9d6d07c006a12d8a171aeb/" property="og:url"><meta content="2018-06-27T00:58:45+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="Ec07fc5d8a528554ae5f0477fdcaf7a236a770f17f9d6d07c006a12d8a171aeb"><meta name="twitter:url" content="http://localhost:4000/archive/1996/11/ec07fc5d8a528554ae5f0477fdcaf7a236a770f17f9d6d07c006a12d8a171aeb/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a><li><a href="/archive/">Posts by Year</a><li><a href="/authors/by-posts/">Authors by Post Number</a><li><a href="/authors/notable/">Notable Authors</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1996-11-13---re-pgp3">1996-11-13 - Re: pgp3</h1><h2 id="header-data">Header Data</h2><p>From: Raph Levien &lt;raph<span>@</span>cs.berkeley.edu&gt;<br /> To: Gary Howland &lt;gary@systemics.com&gt;<br /> Message Hash: ec07fc5d8a528554ae5f0477fdcaf7a236a770f17f9d6d07c006a12d8a171aeb<br /> Message ID: &lt;328A0B7F.68B00890@cs.berkeley.edu&gt;<br /> Reply To: &lt;199611131217.NAA19213@internal-mail.systemics.com&gt;<br /> UTC Datetime: 1996-11-13 17:58:20 UTC<br /> Raw Date: Wed, 13 Nov 1996 09:58:20 -0800 (PST)<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">From</span><span class="p">:</span> <span class="n">Raph</span> <span class="n">Levien</span> <span class="p">&lt;</span><span class="n">raph</span><span class="p">@</span><span class="n">cs</span><span class="p">.</span><span class="n">berkeley</span><span class="p">.</span><span class="n">edu</span><span class="p">&gt;</span>
<span class="n">Date</span><span class="p">:</span> <span class="n">Wed</span><span class="p">,</span> <span class="m">13</span> <span class="n">Nov</span> <span class="m">1996</span> <span class="m">09</span><span class="p">:</span><span class="m">58</span><span class="p">:</span><span class="m">20</span> <span class="p">-</span><span class="m">0800</span> <span class="p">(</span><span class="n">PST</span><span class="p">)</span>
<span class="k">To</span><span class="p">:</span> <span class="n">Gary</span> <span class="n">Howland</span> <span class="p">&lt;</span><span class="n">gary</span><span class="p">@</span><span class="n">systemics</span><span class="p">.</span><span class="n">com</span><span class="p">&gt;</span>
<span class="n">Subject</span><span class="p">:</span> <span class="n">Re</span><span class="p">:</span> <span class="n">pgp3</span>
<span class="k">In</span><span class="p">-</span><span class="n">Reply</span><span class="p">-</span><span class="k">To</span><span class="p">:</span> <span class="p">&lt;</span><span class="m">199611131217.</span><span class="n">NAA19213</span><span class="p">@</span><span class="n">internal</span><span class="p">-</span><span class="n">mail</span><span class="p">.</span><span class="n">systemics</span><span class="p">.</span><span class="n">com</span><span class="p">&gt;</span>
<span class="n">Message</span><span class="p">-</span><span class="n">ID</span><span class="p">:</span> <span class="p">&lt;</span><span class="m">328</span><span class="n">A0B7F</span><span class="m">.68</span><span class="n">B00890</span><span class="p">@</span><span class="n">cs</span><span class="p">.</span><span class="n">berkeley</span><span class="p">.</span><span class="n">edu</span><span class="p">&gt;</span>
<span class="n">MIME</span><span class="p">-</span><span class="k">Version</span><span class="p">:</span> <span class="m">1.0</span>
<span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">text</span><span class="p">/</span><span class="n">plain</span>


<span class="n">Gary</span> <span class="n">Howland</span> <span class="n">wrote</span><span class="p">:</span>
<span class="p">&gt;</span> <span class="n">Raph</span> <span class="n">Levien</span> <span class="n">wrote</span><span class="p">:</span>
<span class="p">&gt;</span> <span class="p">&gt;</span> <span class="n">Nope</span><span class="p">.</span> <span class="n">This</span> <span class="n">RFC</span> <span class="n">is</span> <span class="n">merely</span> <span class="n">a</span> <span class="n">rehash</span> <span class="k">of</span> <span class="n">the</span> <span class="n">pgformat</span><span class="p">.</span><span class="n">doc</span> <span class="n">file</span> <span class="k">in</span> <span class="n">the</span> <span class="n">PGP</span>
<span class="p">&gt;</span> <span class="p">&gt;</span> <span class="m">2.6</span><span class="p">.?</span> <span class="n">distribution</span><span class="p">.</span> <span class="n">I</span><span class="s1">'m doing an independent implementation of the PGP
&gt; &gt; 2.6 message formats, and found this document unclear in a few spots. For
&gt; &gt; example, can anyone else figure out the weird CFB variant mode from this
&gt; &gt; document? I used a debugger on the PGP code to help me figure it out.
&gt; 
&gt; Exactly - I spent ages on the same thing.  Then there'</span><span class="n">s</span> <span class="n">the</span> <span class="n">problem</span> <span class="n">that</span>
<span class="p">&gt;</span> <span class="n">packet</span> <span class="n">length</span> <span class="n">headers</span> <span class="n">must</span> <span class="n">be</span> <span class="n">specific</span> <span class="n">lengths</span> <span class="n">for</span> <span class="n">various</span> <span class="n">types</span> <span class="p">(</span><span class="n">eg</span><span class="p">.</span>
<span class="p">&gt;</span> <span class="n">key</span> <span class="n">certificates</span> <span class="n">must</span> <span class="n">have</span> <span class="n">a</span> <span class="m">2</span> <span class="n">byte</span> <span class="n">length</span><span class="p">,</span> <span class="n">even</span> <span class="k">if</span> <span class="n">only</span> <span class="n">one</span> <span class="n">is</span> <span class="n">required</span><span class="p">).</span>
<span class="p">&gt;</span> <span class="n">It</span> <span class="n">is</span> <span class="n">also</span> <span class="k">not</span> <span class="n">clear</span> <span class="n">what</span> <span class="n">the</span> <span class="n">exported</span> <span class="n">key</span> <span class="n">certificates</span> <span class="n">should</span> <span class="n">contain</span><span class="p">,</span>
<span class="p">&gt;</span> <span class="n">the</span> <span class="n">spec</span> <span class="n">simply</span> <span class="n">mentioning</span> <span class="n">that</span> <span class="n">there</span> <span class="n">should</span> <span class="n">be</span> <span class="n">no</span> <span class="n">trust</span> <span class="n">packets</span> <span class="n">etc</span><span class="p">.</span> <span class="n">etc</span><span class="p">.</span>

<span class="n">Right</span><span class="p">.</span>

<span class="p">&gt;</span> <span class="p">&gt;</span> <span class="n">The</span> <span class="n">PGP</span> <span class="m">3.0</span> <span class="s2">"spec"</span> <span class="n">that</span> <span class="n">you</span><span class="s1">'re referring to is actually a draft for a
&gt; &gt; PGP library API. A couple of those got circulated on some PGP mailing
&gt; &gt; lists, but none have been publicly released, another example of the
&gt; &gt; secrecy surrounding the whole PGP effort.
&gt; &gt;
&gt; &gt; Now that PGP Inc. is happening, it'</span><span class="n">s</span> <span class="k">not</span> <span class="n">exactly</span> <span class="n">clear</span> <span class="n">whether</span> <span class="n">the</span> <span class="n">PGP</span>
<span class="p">&gt;</span> <span class="p">&gt;</span> <span class="m">3.0</span> <span class="n">release</span> <span class="n">is</span> <span class="n">going</span> <span class="k">to</span> <span class="k">include</span> <span class="n">an</span> <span class="n">API</span> <span class="n">closely</span> <span class="n">resembling</span> <span class="n">these</span> <span class="n">drafts</span><span class="p">.</span>
<span class="p">&gt;</span> 
<span class="p">&gt;</span> <span class="n">I</span> <span class="n">agree</span> <span class="k">with</span> <span class="n">your</span> <span class="n">comments</span><span class="p">.</span>  <span class="n">For</span> <span class="n">example</span><span class="p">,</span> <span class="n">we</span> <span class="n">are</span> <span class="n">developing</span> <span class="n">PGP</span> <span class="n">compatible</span>
<span class="p">&gt;</span> <span class="n">libraries</span> <span class="k">in</span> <span class="n">both</span> <span class="n">Perl</span> <span class="k">and</span> <span class="n">Java</span><span class="p">,</span> <span class="k">and</span> <span class="n">are</span> <span class="n">going</span> <span class="k">to</span> <span class="n">add</span> <span class="n">SHA</span><span class="p">,</span> <span class="n">Blowfish</span><span class="p">,</span> <span class="n">T</span><span class="p">-</span><span class="n">DES</span><span class="p">,</span>
<span class="p">&gt;</span> <span class="n">etc</span><span class="p">.,</span> <span class="n">along</span> <span class="k">with</span> <span class="n">a</span> <span class="n">better</span> <span class="n">key</span> <span class="n">ring</span> <span class="n">format</span><span class="p">,</span> <span class="n">encrypted</span> <span class="n">key</span> <span class="n">rings</span><span class="p">,</span> <span class="k">and</span> <span class="n">features</span>
<span class="p">&gt;</span> <span class="n">such</span> <span class="k">as</span> <span class="n">key</span> <span class="n">generation</span> <span class="k">from</span> <span class="n">a</span> <span class="n">passphrase</span><span class="p">,</span> <span class="k">and</span> <span class="n">we</span> <span class="n">would</span> <span class="n">very</span> <span class="n">much</span> <span class="n">like</span> <span class="k">to</span>
<span class="p">&gt;</span> <span class="n">remain</span> <span class="n">compatible</span> <span class="k">with</span> <span class="n">the</span> <span class="n">new</span> <span class="n">PGP</span><span class="p">,</span> <span class="n">but</span> <span class="n">how</span> <span class="n">can</span> <span class="n">we</span> <span class="n">when</span> <span class="n">there</span> <span class="n">is</span> <span class="n">so</span> <span class="n">little</span>
<span class="p">&gt;</span> <span class="n">information</span> <span class="n">available</span><span class="p">?</span>  <span class="n">I</span> <span class="n">think</span> <span class="n">we</span> <span class="n">need</span> <span class="n">a</span> <span class="n">forum</span> <span class="k">to</span> <span class="n">discuss</span> <span class="n">PGP</span> <span class="n">development</span>
<span class="p">&gt;</span> <span class="n">issues</span> <span class="p">-</span> <span class="n">I</span> <span class="n">would</span> <span class="n">be</span> <span class="n">happy</span> <span class="k">to</span> <span class="k">set</span> <span class="n">one</span> <span class="n">up</span> <span class="k">if</span> <span class="n">there</span> <span class="n">was</span> <span class="n">interest</span><span class="p">.</span>

<span class="n">I</span><span class="s1">'d be interested.

There'</span><span class="n">s</span> <span class="n">a</span> <span class="n">few</span> <span class="n">extensions</span> <span class="n">I</span><span class="s1">'m interested in, as well. One of the things
I'</span><span class="n">d</span> <span class="n">_really_</span> <span class="n">like</span> <span class="k">to</span> <span class="n">see</span> <span class="n">is</span> <span class="n">a</span> <span class="n">standardized</span><span class="p">,</span> <span class="n">cryptographically</span> <span class="n">strong</span>
<span class="n">naming</span> <span class="nf">system</span> <span class="n">for</span> <span class="n">PGP</span> <span class="n">keys</span><span class="p">.</span> <span class="n">Derek</span> <span class="n">Atkins</span> <span class="k">and</span> <span class="n">I</span> <span class="n">threw</span> <span class="n">around</span> <span class="n">a</span> <span class="n">proposal</span>
<span class="p">(</span><span class="n">the</span> <span class="n">SHA</span><span class="p">-</span><span class="m">1</span> <span class="n">hash</span><span class="p">,</span> <span class="k">in</span> <span class="n">hex</span><span class="p">,</span> <span class="k">of</span> <span class="n">the</span> <span class="k">public</span> <span class="n">key</span> <span class="n">packet</span><span class="p">,</span> <span class="n">including</span> <span class="n">the</span> <span class="n">packet</span>
<span class="n">headers</span><span class="p">,</span> <span class="k">with</span> <span class="n">the</span> <span class="n">length</span> <span class="n">field</span> <span class="k">in</span> <span class="n">the</span> <span class="n">packet</span> <span class="n">header</span> <span class="n">constrained</span> <span class="k">to</span> <span class="m">2</span>
<span class="n">bytes</span><span class="p">),</span> <span class="n">but</span> <span class="n">I</span><span class="s1">'m not sure where that'</span><span class="n">s</span> <span class="n">headed</span><span class="p">.</span>

<span class="n">The</span> <span class="m">8</span><span class="p">-</span><span class="n">byte</span> <span class="n">key</span> <span class="n">id</span> <span class="n">is</span> <span class="n">perhaps</span> <span class="n">the</span> <span class="n">biggest</span> <span class="n">mistake</span> <span class="k">in</span> <span class="n">the</span> <span class="n">PGP</span> <span class="n">message</span>
<span class="n">formats</span><span class="p">.</span> <span class="n">I</span><span class="s1">'m finding that it adds considerable complexity into the
message format code. For example, to check a signature, it'</span><span class="n">s</span> <span class="n">necessary</span>
<span class="k">to</span> <span class="n">iterate</span> <span class="n">RSA</span> <span class="n">exponentiation</span> <span class="n">over</span> <span class="n">all</span> <span class="n">keys</span> <span class="n">that</span> <span class="n">match</span> <span class="n">the</span> <span class="n">key</span> <span class="n">id</span><span class="p">.</span> <span class="k">In</span>
<span class="n">almost</span> <span class="n">all</span> <span class="n">cases</span><span class="p">,</span> <span class="n">there</span> <span class="n">will</span> <span class="n">be</span> <span class="n">only</span> <span class="n">one</span> <span class="n">such</span> <span class="n">key</span><span class="p">,</span> <span class="n">but</span> <span class="k">to</span> <span class="n">protect</span>
<span class="n">against</span> <span class="n">dead</span> <span class="n">beef</span> <span class="n">attacks</span><span class="p">,</span> <span class="n">you</span> <span class="n">have</span> <span class="k">to</span> <span class="k">do</span> <span class="n">it</span><span class="p">.</span>

<span class="k">In</span> <span class="n">PGP</span> <span class="m">2.6</span><span class="p">.?,</span> <span class="n">it</span><span class="s1">'s possible to exploit dead beef as a denial of service
attack. As soon as you add one public key with a given key id, it
prevents other keys with the same key id from being added. Thus, if I
were to create a key with key id 657984b8c7a966dd, and convinced other
people to add it to their keyrings, they wouldn'</span><span class="n">t</span> <span class="n">be</span> <span class="n">able</span> <span class="k">to</span> <span class="n">add</span> <span class="n">Phil</span>
<span class="n">Zimmermann</span><span class="s1">'s key.

Knowledgeable users can get around this (for example, by deleting the
bogus key), but most people, especially those using automated tools,
would have trouble.

Of course, the main "extension" to PGP I'</span><span class="n">m</span> <span class="n">interested</span> <span class="k">in</span> <span class="n">is</span> <span class="n">a</span> <span class="n">new</span> <span class="n">trust</span>
<span class="k">model</span> <span class="k">and</span> <span class="n">distributed</span> <span class="n">database</span> <span class="n">for</span> <span class="n">certifying</span> <span class="n">keys</span><span class="p">.</span> <span class="n">However</span><span class="p">,</span> <span class="n">at</span> <span class="n">least</span>
<span class="n">for</span> <span class="n">the</span> <span class="n">prototype</span><span class="p">,</span> <span class="n">this</span> <span class="n">can</span> <span class="n">be</span> <span class="n">implemented</span> <span class="n">entirely</span> <span class="n">on</span> <span class="n">top</span> <span class="k">of</span> <span class="n">PGP</span> <span class="p">(</span><span class="k">or</span>
<span class="n">S</span><span class="p">/</span><span class="n">MIME</span><span class="p">,</span> <span class="n">I</span> <span class="n">think</span><span class="p">),</span> <span class="n">so</span> <span class="n">we</span> <span class="n">don</span><span class="s1">'t need to talk about modifying the PGP
engine for this.

Raph





</span></code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1996/11">November 1996</a><li>Return to “<a href="/authors/adam_back_aba_at_dcs_ex_ac_uk_">Adam Back &lt;aba<span>@</span>dcs.ex.ac.uk&gt;</a>”<li>Return to “<a href="/authors/assar_at_pdc_kth_se">assar<span>@</span>pdc.kth.se</a>”<li>Return to “<a href="/authors/gary_howland_gary_at_systemics_com_">Gary Howland &lt;gary<span>@</span>systemics.com&gt;</a>”<li><p>Return to “<a href="/authors/raph_levien_raph_at_cs_berkeley_edu_">Raph Levien &lt;raph<span>@</span>cs.berkeley.edu&gt;</a>”<li>1996-11-13 (Wed, 13 Nov 1996 04:19:02 -0800 (PST)) - <a href="/archive/1996/11/0d3df426d45d0aaa24ddab3fe070123d9760dc3377af5d17dd266dd28199df64">Re: pgp3</a> - <em>Gary Howland &lt;gary@systemics.com&gt;</em><ul><li>1996-11-13 (Wed, 13 Nov 1996 09:58:20 -0800 (PST)) - Re: pgp3 - <em>Raph Levien &lt;raph@cs.berkeley.edu&gt;</em><li>1996-11-13 (Wed, 13 Nov 1996 14:35:33 -0800 (PST)) - <a href="/archive/1996/11/6a901ff7781149c15a022bd91056bea44cc6b2b82bba847b2f307094ec652877">Re: pgp3</a> - <em>Adam Back &lt;aba@dcs.ex.ac.uk&gt;</em><li>1996-11-14 (Wed, 13 Nov 1996 16:22:56 -0800 (PST)) - <a href="/archive/1996/11/1e6f6f9326192ee088fc4e4e6ed34f563581d1dbf5a54cc43dd8307812dfc0cc">Re: pgp3</a> - <em>assar@pdc.kth.se</em></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
