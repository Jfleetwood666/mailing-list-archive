<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="C85457a7493aef31d604547f35b01456cd5d1368e5b80375cd7bafcb2d20516c" /><meta name="keywords" content="C85457a7493aef31d604547f35b01456cd5d1368e5b80375cd7bafcb2d20516c, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="C85457a7493aef31d604547f35b01456cd5d1368e5b80375cd7bafcb2d20516c" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1996/10/c85457a7493aef31d604547f35b01456cd5d1368e5b80375cd7bafcb2d20516c/" property="og:url"><meta content="2018-06-21T22:53:40+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="C85457a7493aef31d604547f35b01456cd5d1368e5b80375cd7bafcb2d20516c"><meta name="twitter:url" content="http://localhost:4000/archive/1996/10/c85457a7493aef31d604547f35b01456cd5d1368e5b80375cd7bafcb2d20516c/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1996-10-06---re-encrypting-pppd">1996-10-06 - Re: encrypting pppd?</h1><h2 id="header-data">Header Data</h2><p>From: Matthew Ghio &lt;ghio@myriad.alias.net&gt;<br /> To: cypherpunks@toad.com<br /> Message Hash: c85457a7493aef31d604547f35b01456cd5d1368e5b80375cd7bafcb2d20516c<br /> Message ID: &lt;199610061634.MAA28522@myriad&gt;<br /> Reply To: &lt;199610021431.JAA02934@linkdead.paranoia.com&gt;<br /> UTC Datetime: 1996-10-06 18:14:38 UTC<br /> Raw Date: Mon, 7 Oct 1996 02:14:38 +0800<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: Matthew Ghio &lt;ghio@myriad.alias.net&gt;
Date: Mon, 7 Oct 1996 02:14:38 +0800
To: cypherpunks@toad.com
Subject: Re: encrypting pppd?
In-Reply-To: &lt;199610021431.JAA02934@linkdead.paranoia.com&gt;
Message-ID: &lt;199610061634.MAA28522@myriad&gt;
MIME-Version: 1.0
Content-Type: text/plain


Ian Goldberg &lt;iang@cs.berkeley.edu&gt; wrote:

&gt; -----BEGIN PGP SIGNED MESSAGE-----
&gt;
&gt; In article &lt;961002.235706.1R8.rnr.w165w@sendai.scytale.com&gt;,
&gt; Roy M. Silvernail &lt;roy@scytale.com&gt; wrote:
&gt; &gt;In list.cypherpunks, vax@linkdead.paranoia.com writes:
&gt; &gt;
&gt; &gt;&gt; Anyone worked on, or know of a freely available, one of these beasts?
&gt; &gt;
&gt; &gt;What threat model does this address?  It'd be link encryption, where the
&gt; &gt;best security is found in end-to-end encryption.
&gt;
&gt; pppd doesn't necessarily run over a modem; you can "tunnel" it over
&gt; another IP connection.
&gt;
&gt; I have in fact done this very thing.  Use ssh to (encrypted) log in to
&gt; the ppp server, and start pppd at each end.  It's been a while; I think
&gt; I had to tweak something to make it work over a pty instead of a serial
&gt; port.

Here's a little script for tunnelling SLIP over a ssh session on Linux:

(sleep 2;\
 /usr/local/bin/ssh -l username -e none remotehost&lt;/dev/ttyqe&gt;&amp;/dev/ttyqe)&amp;
(echo "port ptyqe";\
 echo "wait ord: 15";\
 echo "send secretpw\\n";\
 echo "wait (shellprompt)&gt; 60";\
 echo "send slip\\n";\
 echo get \$rmtip 192.168.0.1;\
 echo get \$locip 192.168.0.2;\
 echo "mode CSLIP";sleep 15)|/sbin/dip -tv

PPP is a little more complicated; I found it's easier if you put the ssh on
the pty instead of the tty side.  You can't do this from a shell script,
because the pty can only be opened once.  This will take care of that:

main(ac,av)int ac;char **av;{
  int fd;
  fd=open("/dev/tty",O_RDWR);
  ioctl(fd,TIOCNOTTY);
  close(fd);
  fd=open("/dev/ptyqf",O_RDWR);
  if(fd&lt;=0) exit(1);
  dup2(fd,0);
  dup2(fd,1);
  dup2(fd,2);
  execl("/usr/local/bin/ssh","ssh","-l","username","-e","none","-c","idea",
        "-t","remotehost","mesg n;/usr/sbin/ppp -direct mylink",(char *)0);
  exit(1);
}

Do remember that you can't route the ip addresses that you're tunneling
inside the tunnel!  So be sure to assign some alternate ip addresses to
each end of the link.  192.168.x.x will work; those addresses aren't
assigned to anyone.

I used /dev/ttyqf for the tty, that is usually unused.  If you have more
than 30 users online then you'll need to increase it.





</code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1996/10">October 1996</a><li><p>1996-10-02 (Thu, 3 Oct 1996 02:31:56 +0800) - <a href="/archive/1996/10/8baa33a12ab323da3919806cb91895913d6bbbc87517ed0455367788ca8d5885">encrypting pppd?</a> - <em>VaX#n8 &lt;vax@linkdead.paranoia.com&gt;</em><ul><li>1996-10-03 (Thu, 3 Oct 1996 19:05:50 +0800) - <a href="/archive/1996/10/e3aa09768f709cbfe99128b6a0f580b1a7ac91344a47977c1c96ad5cc18a5437">Re: encrypting pppd?</a> - <em>roy@sendai.scytale.com (Roy M. Silvernail)</em><ul><li>1996-10-06 (Sun, 6 Oct 1996 19:12:17 +0800) - <a href="/archive/1996/10/930bd02ccbc3acb1730a53acaa400a762d5014d60749c81436f9adb9fc300d6c">Re: encrypting pppd?</a> - <em>VaX#n8 &lt;vax@linkdead.paranoia.com&gt;</em></ul><li>1996-10-05 (Sat, 5 Oct 1996 15:57:16 +0800) - <a href="/archive/1996/10/085abaad600e7896a4cbace4c3fa3761d5dd1c2b7e881f21bc2a48e368aad77e">Re: encrypting pppd?</a> - <em>iang@cs.berkeley.edu (Ian Goldberg)</em><ul><li>1996-10-05 (Sat, 5 Oct 1996 18:10:29 +0800) - <a href="/archive/1996/10/d1e877b7d83225c2157e6b369f92f1c775202e410bde45a84ef044e6ef9e1ead">Re: encrypting pppd?</a> - <em>Julian Assange &lt;proff@suburbia.net&gt;</em></ul><li>1996-10-06 (Mon, 7 Oct 1996 02:14:38 +0800) - Re: encrypting pppd? - <em>Matthew Ghio &lt;ghio@myriad.alias.net&gt;</em></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
