<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="0325b6c61fd7679abf04b4ab760daa9f53118ece74b781992276b60cd0c4ad22" /><meta name="keywords" content="0325b6c61fd7679abf04b4ab760daa9f53118ece74b781992276b60cd0c4ad22, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="0325b6c61fd7679abf04b4ab760daa9f53118ece74b781992276b60cd0c4ad22" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1996/12/0325b6c61fd7679abf04b4ab760daa9f53118ece74b781992276b60cd0c4ad22/" property="og:url"><meta content="2018-06-21T22:53:40+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="0325b6c61fd7679abf04b4ab760daa9f53118ece74b781992276b60cd0c4ad22"><meta name="twitter:url" content="http://localhost:4000/archive/1996/12/0325b6c61fd7679abf04b4ab760daa9f53118ece74b781992276b60cd0c4ad22/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1996-12-11---re-ipg-algorithim">1996-12-11 - Re: IPG algorithim</h1><h2 id="header-data">Header Data</h2><p>From: wichita@cyberstation.net<br /> To: Eric Murray &lt;ericm@lne.com&gt;<br /> Message Hash: 0325b6c61fd7679abf04b4ab760daa9f53118ece74b781992276b60cd0c4ad22<br /> Message ID: &lt;Pine.BSI.3.95.961211035154.11832J-100000@citrine.cyberstation.net&gt;<br /> Reply To: &lt;199612010021.QAA14426@slack.lne.com&gt;<br /> UTC Datetime: 1996-12-11 09:54:03 UTC<br /> Raw Date: Wed, 11 Dec 1996 01:54:03 -0800 (PST)<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: wichita@cyberstation.net
Date: Wed, 11 Dec 1996 01:54:03 -0800 (PST)
To: Eric Murray &lt;ericm@lne.com&gt;
Subject: Re: IPG algorithim
In-Reply-To: &lt;199612010021.QAA14426@slack.lne.com&gt;
Message-ID: &lt;Pine.BSI.3.95.961211035154.11832J-100000@citrine.cyberstation.net&gt;
MIME-Version: 1.0
Content-Type: text/plain




Everything is still screwed up. The As, Bs and Cs are selected in much the
same fashion as LOTTO numbers except that the pools are much larger and
order is significant. They are not random, that would never work.



On Sat, 30 Nov 1996, Eric Murray wrote:

&gt; 
&gt; Igor Chudov @ home writes:
&gt; &gt; 
&gt; &gt; [This is an addition to my previous reply to Eric]
&gt; &gt; 
&gt; &gt; It bugs me that you are using rand() (a fairly lame pseudo-random
&gt; &gt; function that was never intended to be used in cryptographic
&gt; &gt; applications) to seed A, B, C and JV and then test the A(JV) for
&gt; &gt; randomness. Some may object to that.
&gt; 
&gt; Yea, you're right, rand() is lame.
&gt; 
&gt; I added /dev/random to my Linux box and changed my small test to use it.
&gt; I also changed the way that I use JV- I had been setting it to a random
&gt; value for each trip through the "engine", but since I beleive that
&gt; its value can't really be random (if you want to be able to have someone
&gt; decrypt your stuff :-) but must be exchanged in the key, I set it
&gt; to a random value once and then let it float.  It's also a lot faster
&gt; that way, /dev/random is pretty slow (because it's looking for real
&gt; random material).
&gt; 
&gt; My results from xnoisesph were wrong- xnoisesph wants random bytes
&gt; instead of random integers in ascii format as I was producing.
&gt; Changing it (as I have below) makes the xnoisesph output look
&gt; much better, but it still isn't all that random.  The random seed generators
&gt; I have written that get their randomness from repeated calls
&gt; to high-resolution timers and hashes of system log files do better.
&gt; I also fixed a minor bug in arg processing.
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; #include &lt;stdio.h&gt;
&gt; #include &lt;fcntl.h&gt;
&gt; 
&gt; /* a C translation of the IPG "EUREKA" algorithim's "engine".
&gt; ** This is supposed to produce random numbers for the IPG
&gt; ** "encryptor stream".
&gt; ** See http://www.netprivacy.com/ for the original description.
&gt; ** Eric Murray  ericm@lne.com  This code placed under GNU copyleft. 
&gt; ** V0.2 */
&gt; 
&gt; typedef unsigned char byte;
&gt; typedef unsigned short uint16;
&gt; 
&gt; 
&gt; /* tables: */
&gt; uint16 A[53];
&gt; uint16 B[53];
&gt; uint16 C[53];
&gt; 
&gt; 
&gt; #ifndef NO_DEV_RANDOM
&gt; uint16 getrand()
&gt; {
&gt; 	uint16 ret;
&gt; 	int fd = open("/dev/random",O_RDONLY);
&gt; 	if (fd &lt;= 0) {
&gt; 		perror("/dev/random"); exit(-1);
&gt; 	}
&gt; 	read(fd,(unsigned char *)(&amp;ret),sizeof(ret));
&gt; 	close(fd);
&gt; 	return(ret);
&gt; }
&gt; #else
&gt; /* do something appropriate for your OS here, rand() is lame. */
&gt; #define getrand rand
&gt; #endif
&gt; 
&gt; 
&gt; int init_table(uint16*table, uint16 min, uint16 max)
&gt; {
&gt; 	/* IPG specifies no algorithim for producing the "random"
&gt; 	** initial values in the ABC tables, but it's obvious that
&gt; 	** it requires a PRNG that's somehow seeded from the "key".
&gt; 	** I've used /dev/random here, so there's no question that
&gt; 	** I'm starting out with pretty good random values. */
&gt; 	int i;
&gt; 	int count, r;
&gt; 
&gt; 	for(i = 0; i &lt; 53; i++) {
&gt; 		table[i] = min + (getrand() % (max - min));
&gt; 	}
&gt; }
&gt; 
&gt; main(int argc, char **argv)
&gt; {
&gt; 	uint16 jv;
&gt; 	int argcnt, i, n, count, diehard, nelem;
&gt; 
&gt; 	diehard = 0;
&gt; 	argcnt = 1;
&gt; 	if (argc &gt;= 2) {
&gt; 		if (strncmp(argv[argcnt],"-d",2) == 0) {
&gt; 			diehard++;
&gt; 			argcnt++;
&gt; 		}
&gt; 	}
&gt; 	if (argc &gt; argcnt - 1 ) {
&gt; 		n = atoi(argv[argcnt]);
&gt; 		fprintf(stderr,"Generating %d values\n",n);
&gt; 	}
&gt; 	else {
&gt; 		n = 2000;
&gt; 	}
&gt; 
&gt; 	/* seed tables: */
&gt; 	fprintf(stderr,"Seeding:  A");  fflush(stderr);
&gt; 	init_table(A,0,65535);
&gt; 	fprintf(stderr," B");  fflush(stderr);
&gt; 	init_table(B,0,12227);
&gt; 	fprintf(stderr," C");  fflush(stderr);
&gt; 	init_table(C,16384,20361);
&gt; 	fprintf(stderr,"\n");  fflush(stderr);
&gt; 
&gt; 	/* generate n values: */
&gt; 	/* jv is "random" (where's it seeded from?) */
&gt; 	jv = (uint16)(getrand() % 53);
&gt; 	for(; n &gt; 0; n--) {
&gt; 
&gt; 		/* count limits the number of traverses to 53^2 so we don't get stuck */
&gt; 		/* 2809 is actually too low per Chudov:
&gt; 		** "For example, if ALL B == 1, A == 16385, and C == 20361, the
&gt; 		**  loop may need (20361-16385) passes to get to the &lt; 16384 value."
&gt; 		*/
&gt; 		for(count = 0; count &lt; 2809; count++) {
&gt; 			jv++;
&gt; 			if (jv == 53) jv = 0;
&gt; 			A[jv] = (A[jv] + B[jv]) % C[jv];
&gt; 			if (A[jv] &lt; 16384) break;
&gt; 		}
&gt; 		if (count == 2809) fprintf(stderr,"Oops.\n");
&gt; 		else {
&gt; 			if (!diehard) {
&gt; 				write(1,(unsigned char *)&amp;A[jv],sizeof(uint16));
&gt; 			}
&gt; 			else {
&gt; 				/* print output in DIEHARD required format:
&gt; 				** actually since we have 16-bit ints and DIEHARD
&gt; 				** wants 32-bit ints, we print 20 per line instead of 10 */
&gt; 				if (nelem++ &gt; 19) {printf("\n"); nelem = 0;}
&gt; 				printf("%4.4x",(unsigned int)A[jv]);
&gt; 			}
&gt; 		}
&gt; 	}
&gt; }
&gt; -- 
&gt; Eric Murray  ericm@lne.com  ericm@motorcycle.com  http://www.lne.com/ericm
&gt; PGP keyid:E03F65E5 fingerprint:50 B0 A2 4C 7D 86 FC 03  92 E8 AC E6 7E 27 29 AF
&gt; 






</code></pre></div></div><h2 id="thread">Thread</h2><ul><li>Return to <a href="/archive/1996/11">November 1996</a><li><p>Return to <a href="/archive/1996/12">December 1996</a><li>1996-11-30 (Sat, 30 Nov 1996 11:58:22 -0800 (PST)) - <a href="/archive/1996/11/742ea186c3fc2420d0cfffd29e330a97be2c1d997aa485cd1d76fc5ca86d9f02">Re: Ignoramus Chewed-Off on IPG algorithm</a> - <em>ichudov@algebra.com (Igor Chudov @ home)</em><ul><li>1996-11-30 (Sat, 30 Nov 1996 13:20:07 -0800 (PST)) - <a href="/archive/1996/11/c21eba72753b2e3b15cf5a2c16d7f3ae9cadfc2f1780578ade47dcee3cf96439">Re: IPG algorithim</a> - <em>Eric Murray &lt;ericm@lne.com&gt;</em><ul><li>1996-11-30 (Sat, 30 Nov 1996 13:30:14 -0800 (PST)) - <a href="/archive/1996/11/265e832615772971c8c2ed94f837bccfaaf53dded59daa9b7360298e3c25dd65">Re: IPG algorithim</a> - <em>ichudov@algebra.com (Igor Chudov @ home)</em><ul><li>1996-12-11 (Wed, 11 Dec 1996 01:47:11 -0800 (PST)) - <a href="/archive/1996/12/c597703efe2d1d1ed663858b3fd505717d259cfd7e3fea60bfdc5b0ff010b446">Re: IPG algorithim</a> - <em>wichita@cyberstation.net</em><ul><li>1996-12-11 (Wed, 11 Dec 1996 07:42:45 -0800 (PST)) - <a href="/archive/1996/12/1972c920aff8e9359b5e716bb04bb437bc8c379458c0939dcd38e42860330d2a">Re: IPG algorithim</a> - <em>ichudov@algebra.com (Igor Chudov @ home)</em></ul></ul><li>1996-11-30 (Sat, 30 Nov 1996 14:16:03 -0800 (PST)) - <a href="/archive/1996/11/f2580f93541438b1e2cb64c066ad34d760fd39b6b1ceb2a0f34e7e979e10f1a1">Re: IPG algorithim</a> - <em>ichudov@algebra.com (Igor Chudov @ home)</em><ul><li>1996-12-01 (Sat, 30 Nov 1996 16:22:28 -0800 (PST)) - <a href="/archive/1996/12/606637c6a55d4a9d3844199fabf652188197c99b57d58cc361e6f6c87ba9f21a">Re: IPG algorithim</a> - <em>Eric Murray &lt;ericm@lne.com&gt;</em><ul><li>1996-12-01 (Sat, 30 Nov 1996 16:34:16 -0800 (PST)) - <a href="/archive/1996/12/1b0afa9e21acd14aec631e282e42f16fa18c73efef83f066fb461d803bc50bb9">Re: IPG algorithim</a> - <em>ichudov@algebra.com (Igor Chudov @ home)</em><ul><li>1996-12-11 (Wed, 11 Dec 1996 01:55:46 -0800 (PST)) - <a href="/archive/1996/12/35f30c109abca66bd419ef5fe982bcdbf23646b7e991b7a49baeef540df942e0">Re: IPG algorithim</a> - <em>wichita@cyberstation.net</em></ul><li>1996-12-11 (Wed, 11 Dec 1996 01:54:03 -0800 (PST)) - Re: IPG algorithim - <em>wichita@cyberstation.net</em><ul><li>1996-12-11 (Wed, 11 Dec 1996 07:46:48 -0800 (PST)) - <a href="/archive/1996/12/cf05e56500e224e5c61919aafe6796f21bc2435dfe2f5d98186bf3dc8fc88b7d">Re: IPG algorithim</a> - <em>ichudov@algebra.com (Igor Chudov @ home)</em></ul></ul><li>1996-12-11 (Wed, 11 Dec 1996 01:41:23 -0800 (PST)) - <a href="/archive/1996/12/ab20438c468e58f878c547e6aa5dcdc758220d63188c821c398c69cb59ae28fc">Re: IPG algorithim</a> - <em>wichita@cyberstation.net</em><ul><li>1996-12-11 (Wed, 11 Dec 1996 07:42:06 -0800 (PST)) - <a href="/archive/1996/12/fdd42f149339bde3f89a5ba61e31a0b8bd8276f61516b9ff0b792a0d57b60cf9">Re: IPG algorithim</a> - <em>ichudov@algebra.com (Igor Chudov @ home)</em></ul></ul><li>1996-12-01 (Sat, 30 Nov 1996 18:47:45 -0800 (PST)) - <a href="/archive/1996/12/0e8573344df04e58a97c7876dfecc3b387778684b84e368ad9e18f701eb5ff8d">Re: IPG algorithim</a> - <em>Dale Thorn &lt;dthorn@gte.net&gt;</em><ul><li>1996-12-11 (Wed, 11 Dec 1996 01:51:04 -0800 (PST)) - <a href="/archive/1996/12/02b3de15717e1b5027416fb487d659cf84c7e5795cc5bc0240f00931abcd3f9f">Re: IPG algorithim</a> - <em>wichita@cyberstation.net</em></ul><li>1996-12-11 (Wed, 11 Dec 1996 00:49:45 -0800 (PST)) - <a href="/archive/1996/12/af10f6f9de080ca628de3f8d2a8f5cb8616284ade23cb97c4f24889f9aa89db7">Re: IPG algorithim</a> - <em>wichita@cyberstation.net</em><ul><li>1996-12-11 (Wed, 11 Dec 1996 07:41:55 -0800 (PST)) - <a href="/archive/1996/12/3d2c2520e484f8f77b1ab459af5e42d596cd88fca46f3e6964cd438350339879">Re: IPG algorithim</a> - <em>ichudov@algebra.com (Igor Chudov @ home)</em></ul></ul><li>1996-12-11 (Wed, 11 Dec 1996 01:30:14 -0800 (PST)) - <a href="/archive/1996/12/4ee61127c027d60ed50f5e502dab4ed8d01a0aa20a5f79eaee53b6d771cbb11a">Re: Ignoramus Chewed-Off on IPG algorithm</a> - <em>wichita@cyberstation.net</em></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
