<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="D724fba9d0d50f6203883be23aab481112831adfd725c985371a3dabe51581f6" /><meta name="keywords" content="D724fba9d0d50f6203883be23aab481112831adfd725c985371a3dabe51581f6, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="D724fba9d0d50f6203883be23aab481112831adfd725c985371a3dabe51581f6" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1996/07/d724fba9d0d50f6203883be23aab481112831adfd725c985371a3dabe51581f6/" property="og:url"><meta content="2018-06-27T00:58:45+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="D724fba9d0d50f6203883be23aab481112831adfd725c985371a3dabe51581f6"><meta name="twitter:url" content="http://localhost:4000/archive/1996/07/d724fba9d0d50f6203883be23aab481112831adfd725c985371a3dabe51581f6/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a><li><a href="/archive/">Posts by Year</a><li><a href="/authors/by-posts/">Authors by Post Number</a><li><a href="/authors/notable/">Notable Authors</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1996-07-14---re--execution-of-signed-scripts-received-by-e-mail">1996-07-14 - Re: Execution of signed scripts received by e-mail</h1><h2 id="header-data">Header Data</h2><p>From: Matt Carpenter &lt;mcarpent<span>@</span>Dusk.obscure.net&gt;<br /> To: hfinney@shell.portal.com<br /> Message Hash: d724fba9d0d50f6203883be23aab481112831adfd725c985371a3dabe51581f6<br /> Message ID: &lt;199607141042.FAA01300@Dusk.obscure.net&gt;<br /> Reply To: <em>N/A</em><br /> UTC Datetime: 1996-07-14 13:59:55 UTC<br /> Raw Date: Sun, 14 Jul 1996 21:59:55 +0800<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: Matt Carpenter &lt;mcarpent@Dusk.obscure.net&gt;
Date: Sun, 14 Jul 1996 21:59:55 +0800
To: hfinney@shell.portal.com
Subject: Re:  Execution of signed scripts received by e-mail
Message-ID: &lt;199607141042.FAA01300@Dusk.obscure.net&gt;
MIME-Version: 1.0
Content-Type: text/plain


-----BEGIN PGP SIGNED MESSAGE-----

Hal &lt;hfinney@shell.portal.com&gt; writes:
&gt; 
&gt; That sounds very impressive!  The one problem I've run into with mail
&gt; filtering software is that each message asynchronously spawns a separate
&gt; filter process.  This can cause some conflicts with accessing disk files.
&gt; I haven't used procmail so I don't know if it has this problem.  But if
&gt; so you may need to be careful if there are any cases where two processes
&gt; could be accessing the same disk files.  For example, what if two copies
&gt; of an identical email message arrive at almost the same time, would your
&gt; dup detection work.

If I am reading the procmail docs correctly, then the following recipe
should create a lockfile called 'emscrypt.lock' which will prevent more than
one instance of the script from being run at a time

:0:emscrypt
^ Subject.*SQUEAMISH OSSIFRAGE
|/PATH/emscrypt

I agree it would be better if emscrypt used its own locks on the timestamp
files.  However, it is my understanding (someone please correct me if I am
wrong) that there is no simple way to provide file locking in Perl that is
portable across the various flavours of Unix (see the descriptions of the
fcntl and flock functions on p. 144-145 of the Camel book).  So I haven't
tried to implement locking from within emscrypt yet.  Of course, if these
functions are available on the majority of machines (anyone?) then I should
probably use them.

&gt; The other issue is the possibility of mail arriving out of order.  Looking
&gt; for increasing timestamps may cause spurious rejection of some messages.
&gt; On the other hand this is a difficult problem to handle in general so
&gt; probably the current solution is OK.

Yeah, I though about that too.  It can be somewhat alleviated by
batching the individually signed scripts into a single mail message, if 
you know you are going to be submitting several scripts close together 
in time.

Any other ideas?

&gt; 
&gt; Hal
&gt; 

Thanks for the feedback.

- --Matt

- --
mcarpent@mailhost.tcs.tulane.edu

-----BEGIN PGP SIGNATURE-----
Version: 2.6.2

iQEVAwUBMejLIijtJAMyBnp9AQHnYgf6AkCfu7KLGKmJ6JNe0JscYkqWwHWGStFW
0u0dMrQekySy75iRqvyHJ789BhUj2gH5DhKBK97C0AhKj2jmv//7RALadqXOa73G
9nF31evxd+IItWaxeWbQQT9yNvEOz/bmLrz0bgH+GEwKHRFmUmwOObo4bw59M2bc
EianNNT0Ig4tOcVt6kaxWm79PylQvDvtIxy6e3g0wIyg0gUI9vzGSa7S1y9PAJSB
d60yJAfYKSEPGoab8fDbrTbJLMUfR1BYevdHrJxxCiuOj9uhIEfCnHua/P6k6tvP
ZIa8Bz3jilq+AE/+CzBezk0IJmq7MEMQFJHyk/1AtKwY58x6xxWxuQ==
=S64i
-----END PGP SIGNATURE-----





</code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1996/07">July 1996</a><li>Return to “<a href="/authors/adam_shostack_adam_at_homeport_org_">Adam Shostack &lt;adam<span>@</span>homeport.org&gt;</a>”<li>Return to “<a href="/authors/matt_carpenter_mcarpent_at_dusk_obscure_net_">Matt Carpenter &lt;mcarpent<span>@</span>Dusk.obscure.net&gt;</a>”<li><p>Return to “<a href="/authors/steven_l_baur_steve_at_miranova_com_">Steven L Baur &lt;steve<span>@</span>miranova.com&gt;</a>”<li>1996-07-14 (Sun, 14 Jul 1996 21:59:55 +0800) - Re: Execution of signed scripts received by e-mail - <em>Matt Carpenter &lt;mcarpent@Dusk.obscure.net&gt;</em><ul><li>1996-07-14 (Mon, 15 Jul 1996 05:38:39 +0800) - <a href="/archive/1996/07/4ef1f5c8f8abf45b3bdfe1b8ade1023f4d963c3813683e38d1826379944faa3c">Re: Execution of signed scripts received by e-mail</a> - <em>Adam Shostack &lt;adam@homeport.org&gt;</em><li>1996-07-14 (Mon, 15 Jul 1996 06:30:09 +0800) - <a href="/archive/1996/07/4f6a4f8750e32a19a43b608e7981de0064e0aa0e129758e8413e0e60803ad3d7">Re: Execution of signed scripts received by e-mail</a> - <em>Steven L Baur &lt;steve@miranova.com&gt;</em></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
