<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="800b3939a71fd5cb2cca53440d46792d07d84cb022a91a905e6530d729c86b0d" /><meta name="keywords" content="800b3939a71fd5cb2cca53440d46792d07d84cb022a91a905e6530d729c86b0d, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="800b3939a71fd5cb2cca53440d46792d07d84cb022a91a905e6530d729c86b0d" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1995/11/800b3939a71fd5cb2cca53440d46792d07d84cb022a91a905e6530d729c86b0d/" property="og:url"><meta content="2018-06-21T22:53:40+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="800b3939a71fd5cb2cca53440d46792d07d84cb022a91a905e6530d729c86b0d"><meta name="twitter:url" content="http://localhost:4000/archive/1995/11/800b3939a71fd5cb2cca53440d46792d07d84cb022a91a905e6530d729c86b0d/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1995-11-23---re-ecash-protocol-part-1">1995-11-23 - Re: ecash protocol: Part 1</h1><h2 id="header-data">Header Data</h2><p>From: Hal &lt;hfinney@shell.portal.com&gt;<br /> To: cypherpunks@toad.com<br /> Message Hash: 800b3939a71fd5cb2cca53440d46792d07d84cb022a91a905e6530d729c86b0d<br /> Message ID: &lt;199511230103.RAA15911@jobe.shell.portal.com&gt;<br /> Reply To: &lt;199511212146.NAA11456@cory.EECS.Berkeley.EDU&gt;<br /> UTC Datetime: 1995-11-23 01:24:23 UTC<br /> Raw Date: Thu, 23 Nov 1995 09:24:23 +0800<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: Hal &lt;hfinney@shell.portal.com&gt;
Date: Thu, 23 Nov 1995 09:24:23 +0800
To: cypherpunks@toad.com
Subject: Re: ecash protocol: Part 1
In-Reply-To: &lt;199511212146.NAA11456@cory.EECS.Berkeley.EDU&gt;
Message-ID: &lt;199511230103.RAA15911@jobe.shell.portal.com&gt;
MIME-Version: 1.0
Content-Type: text/plain


Ian Goldberg &lt;iang@cory.EECS.Berkeley.EDU&gt; writes:

&gt;Last week, I was taking a look at the ecash protocol (no, I don't have a copy;
&gt;I have a binary, which I can't even run...).  

&gt;I've managed to decipher a useful bit of the first message sent from
&gt;the shop to the payer.  It's the Payment Request, and contains the following
&gt;information:

&gt;o Header identifying packet as Payment Request
&gt;o The integer 4
&gt;o The payment amount, in cents
&gt;o The time (seconds since 1970)
&gt;o The integer 79
&gt;o The name of the shop (payee)
&gt;o A description of the item being paid for
&gt;o An empty string
&gt;o The integer 0
&gt;o End of Record marker

That's very interesting work!  What are the string formats, are they null
terminated or Pascal-style with a preceding count byte?  How did you
identify "an empty string", wouldn't that just be a byte of 0?  How did
you know it was an empty string rather than just a 0.

Did you get this by inducing a shop to send a payment request message to
some program you wrote which was listening on the ecash port?

I think a good way to get the rest of the information would be with a
proxy which logged message traffic.  I know ecash has some proxy support
but I'm not sure how it works.  There are SOCKS proxies and http proxies,
and I don't know which it uses.  I used a logging httpd proxy to derive
the data for the SSL challenges I did this past summer.  It might be
interesting to post the binary data from some ecash transactions.

&gt;I guess the important bit is that the payee, the item being bought,
&gt;and the cost are sent _in the clear_.  Some of the people I've talked
&gt;to think this is a huge privacy breach, and some don't.  You all can
&gt;debate this now.  Lucky can, if he wishes, add insight, and/or tell us
&gt;what DC may do about this.

I wonder if it would be legal to write shop software which sent such a
payment request, took the resulting coins, and deposited them in the bank
(if we could figure out all the protocols necessary).  This particular
sequence of operations would not appear to infringe anybody's patents -
there are no blinding operations involved.  It's not clear how useful
such a program would be but at least it would be one step away from the
DigiCash monopoly.

Hal





</code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1995/11">November 1995</a><li><p>1995-11-21 (Tue, 21 Nov 95 13:47:02 PST) - <a href="/archive/1995/11/032551c71afb98ffc180465f326693c8007f630798337c09a4ac4149608197d2">ecash protocol: Part 1</a> - <em>Ian Goldberg &lt;iang@cory.EECS.Berkeley.EDU&gt;</em><ul><li>1995-11-23 (Thu, 23 Nov 1995 09:24:23 +0800) - Re: ecash protocol: Part 1 - <em>Hal &lt;hfinney@shell.portal.com&gt;</em><li>1995-11-23 (Thu, 23 Nov 1995 10:23:39 +0800) - <a href="/archive/1995/11/680d247fff94c3783c5f01340b5d9feddc933bcb4e6b864c206d11fc7347564f">Re: ecash protocol: Part 1</a> - <em>iagoldbe@calum.csclub.uwaterloo.ca (Ian Goldberg)</em><li>1995-11-25 (Sat, 25 Nov 1995 15:55:53 +0800) - <a href="/archive/1995/11/188fb53ab241c508abdac9170b54e2cd87fc3189d924c067d7f1745b1149675e">Re: ecash protocol: Part 1</a> - <em>Jiri Baum &lt;jirib@sweeney.cs.monash.edu.au&gt;</em><ul><li>1995-11-25 (Sun, 26 Nov 1995 02:24:18 +0800) - <a href="/archive/1995/11/36b1ed86683b266a766f115fb8b2651e13f62574f358757edd6f1e1b34469978">Re: ecash protocol: living in denial</a> - <em>s1113645@tesla.cc.uottawa.ca</em></ul><li>1995-11-30 (Thu, 30 Nov 1995 08:38:24 +0800) - <a href="/archive/1995/11/a334ff2dbc63622e3723a82fc6df2e48912591f0d53b22883b4b20629e10dedc">Re: ecash protocol: Part 1</a> - <em>iagoldbe@calum.csclub.uwaterloo.ca (Ian Goldberg)</em></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
