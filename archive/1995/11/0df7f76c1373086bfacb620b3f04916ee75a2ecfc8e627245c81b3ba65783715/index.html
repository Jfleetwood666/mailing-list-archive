<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="0df7f76c1373086bfacb620b3f04916ee75a2ecfc8e627245c81b3ba65783715" /><meta name="keywords" content="0df7f76c1373086bfacb620b3f04916ee75a2ecfc8e627245c81b3ba65783715, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="0df7f76c1373086bfacb620b3f04916ee75a2ecfc8e627245c81b3ba65783715" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1995/11/0df7f76c1373086bfacb620b3f04916ee75a2ecfc8e627245c81b3ba65783715/" property="og:url"><meta content="2018-06-21T22:53:40+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="0df7f76c1373086bfacb620b3f04916ee75a2ecfc8e627245c81b3ba65783715"><meta name="twitter:url" content="http://localhost:4000/archive/1995/11/0df7f76c1373086bfacb620b3f04916ee75a2ecfc8e627245c81b3ba65783715/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1995-11-09---re-mimemultipart-was-re-pgp-comment-feature-weakens-remailer-security">1995-11-09 - Re: Mime/multipart (was Re: PGP Comment feature weakens remailer security)</h1><h2 id="header-data">Header Data</h2><p>From: Raph Levien &lt;raph@CS.Berkeley.EDU&gt;<br /> To: Laurent Demailly &lt;dl@hplyot.obspm.fr&gt;<br /> Message Hash: 0df7f76c1373086bfacb620b3f04916ee75a2ecfc8e627245c81b3ba65783715<br /> Message ID: &lt;199511091715.JAA12871@kiwi.cs.berkeley.edu&gt;<br /> Reply To: &lt;9511091356.AA09725@hplyot.obspm.fr&gt;<br /> UTC Datetime: 1995-11-09 18:10:07 UTC<br /> Raw Date: Fri, 10 Nov 1995 02:10:07 +0800<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: Raph Levien &lt;raph@CS.Berkeley.EDU&gt;
Date: Fri, 10 Nov 1995 02:10:07 +0800
To: Laurent Demailly &lt;dl@hplyot.obspm.fr&gt;
Subject: Re: Mime/multipart (was Re: PGP Comment feature weakens remailer security)
In-Reply-To: &lt;9511091356.AA09725@hplyot.obspm.fr&gt;
Message-ID: &lt;199511091715.JAA12871@kiwi.cs.berkeley.edu&gt;
MIME-Version: 1.0
Content-Type: text/plain


&gt; Raph Levien writes:
&gt;  &gt;    On an unrelated topic... cypherpunks like to count bits, right?
&gt;  &gt; What is the correct number of pseudorandom bits to use in a MIME
&gt;  &gt; multipart separator? If the data has a line which matches the
&gt;  &gt; separator, the message is corrupted. Of course, if you can take
&gt;  &gt; multiple passes through the data, you can simply verify that it does
&gt;    ***************
&gt; No need !
&gt;  &gt; not contain a line which matches the separator. But if you're
&gt;  &gt; restricted to a single pass, then the only way to do it is to use a
&gt;  &gt; randomly generated separator.
&gt; I've waited a bit, but as nobody seem to have pointed out, you can
&gt; definitly find a unique stream in a *single* pass (but maybe what you
&gt; really want is no pass at all ?)
&gt; {you add a new random byte each time you find your sequence in the
&gt; stream, and goes forward (as the previous separator was not in the
&gt; "past" of the stream, you don't need to go back)}

Yes, that's a good strategy _if_ you're able to take multiple passes.
However, the separator must (of course) appear at the top of the multipart
message being assembled. Perhaps we don't agree on what "single pass"
means; I meant you could do the processing in a Unix pipe without
requiring storage proportional the size of the data.

&gt; What am I missing ? (anyway, see below)
&gt; (I hope my answer is not as clueless as the "A-dice anonymous" one)

Not quite. As they say, "A-dice" is not merely clueless, but actually
clue-resistant.

&gt;  &gt;    I figure that 128 bits should _definitely_ be enough (that's what
&gt;  &gt; is in the new premail code now). Even 64 bits should ensure that it is
&gt;  &gt; unlikely that anyone will ever experience message corruption over the
&gt;  &gt; expected lifetime of premail. However, it makes me nervous. What do
&gt;  &gt; people think?
&gt; 
&gt; Isn't PGP encoded stream containing only base64 chars ? Why not use
&gt; "====PGP part #===="  (as you can't have more than 2 = in a base 64,
&gt; and only at the end anyway)
&gt; or "@PGP part #" or whatever starting with a non base64 char ?

For PGP encrypted messages, I just use "+" as the boundary, as it is
guaranteed that a valid PGP/MIME multipart/encrypted message body will
never include the line "--+" or "--+--". For the longer separators, my
concern is multipart/signed messages.

&gt; so "@" = 8 bits is my anwser, do I win ;-) ?

I chose "+" instead of, say, "@" because it will survive EBCDIC gateways.
You might argue that this is worrying too much, but doing the right thing
here costs nothing, and may actually save somebody some trouble.

Raph







</code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1995/11">November 1995</a><li><p>1995-11-08 (Wed, 8 Nov 1995 13:21:55 +0800) - <a href="/archive/1995/11/4d3294a89530018582d94af62b764a0c7a578d9856e02aede5ae71f0a0b1b237">PGP Comment feature weakens remailer securityPGP Comment feature weakens remailer security</a> - <em>anonymous-remailer@shell.portal.com</em><ul><li>1995-11-09 (Thu, 9 Nov 1995 08:44:18 +0800) - <a href="/archive/1995/11/f0fab3a8b4b6fb05444de92fd8749681b2bdff04275b46f0fe029cc1ee302660">Re: PGP Comment feature weakens remailer security</a> - <em>Raph Levien &lt;raph@CS.Berkeley.EDU&gt;</em><ul><li>1995-11-09 (Thu, 9 Nov 1995 09:52:24 +0800) - <a href="/archive/1995/11/87abd966f189d3466ae6c808668ef0f6d9b249e7955cebd08eb5744d886755b4">Re: PGP Comment feature weakens remailer security</a> - <em>Lance Cottrell &lt;loki@obscura.com&gt;</em><li>1995-11-09 (Thu, 9 Nov 1995 10:44:36 +0800) - <a href="/archive/1995/11/adfdccfc873aefcaf0cb160c686325095aabb9a0e4e8e3d78e1021581203be6e">Re: PGP Comment feature weakens remailer security</a> - <em>Raph Levien &lt;raph@CS.Berkeley.EDU&gt;</em><ul><li>1995-11-09 (Thu, 9 Nov 1995 22:34:33 +0800) - <a href="/archive/1995/11/073358e9cb3cbbcb0be63fd028538834b2e25763c4da7f519ab8d99d1cd81f34">Re: PGP Comment feature weakens remailer security</a> - <em>“Perry E. Metzger” &lt;perry@piermont.com&gt;</em><ul><li>1995-11-09 (Fri, 10 Nov 1995 02:20:49 +0800) - <a href="/archive/1995/11/b932f229e4b7720ffa01ca002c3202e8a15304ce7729178d6a5dc5f87889b1c5">Small keysizes do make sense (was PGP Comment weakens…)</a> - <em>Raph Levien &lt;raph@CS.Berkeley.EDU&gt;</em><ul><li>1995-11-09 (Fri, 10 Nov 1995 04:32:17 +0800) - <a href="/archive/1995/11/aa18a3f91f385949cf7c6a26ec9cc4e6506800c59e1c518796ac7aa002b32b06">Re: Small keysizes do make sense (was PGP Comment weakens…)</a> - <em>“Perry E. Metzger” &lt;perry@piermont.com&gt;</em><ul><li>1995-11-09 (Fri, 10 Nov 1995 06:03:59 +0800) - <a href="/archive/1995/11/bfde9af797b15266617e8485a5d7320842f354e96e1e0033a1ada00592c47afa">Re: Small keysizes do make sense (was PGP Comment weakens…)</a> - <em>Raph Levien &lt;raph@CS.Berkeley.EDU&gt;</em></ul><li>1995-11-10 (Sat, 11 Nov 1995 01:45:44 +0800) - <a href="/archive/1995/11/f69e8612dec838aa926dbb85cc53be5cec1ab60efb5fb1423c96908b345aae15">Re: Small keysizes do make sense (was PGP Comment weakens…)</a> - <em>Andreas Bogk &lt;andreas@artcom.de&gt;</em></ul><li>1995-11-09 (Fri, 10 Nov 1995 05:56:29 +0800) - <a href="/archive/1995/11/371a3472ee1abc3f0e70880558149e09b9bfeab3fa3bb6bfb9ab5e408c253d29">Re: PGP Comment feature weakens remailer security</a> - <em>Jon Lasser &lt;jlasser@rwd.goucher.edu&gt;</em></ul></ul></ul><li>1995-11-09 (Thu, 9 Nov 1995 08:54:31 +0800) - <a href="/archive/1995/11/7458f321e140f2429d57cab1274a6ba9a8c25f4b699ac782765be91d03314ad7">Re: PGP Comment feature weakens remailer security</a> - <em>NetSurfer &lt;netsurf@pixi.com&gt;</em><li>1995-11-09 (Thu, 9 Nov 1995 22:15:26 +0800) - <a href="/archive/1995/11/6b8d30df921a03991c7e8f79ab774b394468a9cb0f787298210a82bfa0cfddcd">Mime/multipart (was Re: PGP Comment feature weakens remailer security)</a> - <em>Laurent Demailly &lt;dl@hplyot.obspm.fr&gt;</em><ul><li>1995-11-09 (Fri, 10 Nov 1995 02:10:07 +0800) - Re: Mime/multipart (was Re: PGP Comment feature weakens remailer security) - <em>Raph Levien &lt;raph@CS.Berkeley.EDU&gt;</em></ul></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
