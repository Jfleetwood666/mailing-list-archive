<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/static/img/favicons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/static/img/favicons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title>
    <meta name="author" content="cryptoanarchy.wiki" />
    <meta name="description" content="C4a78db970bf035f8a1d96107bcd45b5d303d8cebc7116045e856b319e2cbbb2" />
    <meta name="keywords" content="C4a78db970bf035f8a1d96107bcd45b5d303d8cebc7116045e856b319e2cbbb2, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
    <meta content="" property="fb:app_id">
    <meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name">

    

    
      <meta content="C4a78db970bf035f8a1d96107bcd45b5d303d8cebc7116045e856b319e2cbbb2" property="og:title">
      <meta content="article" property="og:type">
    

    
      <meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description">
    

    
      <meta content="http://localhost:4000/archive/1995/08/c4a78db970bf035f8a1d96107bcd45b5d303d8cebc7116045e856b319e2cbbb2/" property="og:url">
    

    
      <meta content="2018-06-20T21:43:48+02:00" property="article:published_time">
      <meta content="http://localhost:4000/about/" property="article:author">
    

    
      <meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image">
    

    
      
    

    
      
    

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@_cryptoanarchy">
    <meta name="twitter:creator" content="@_cryptoanarchy">

    
      <meta name="twitter:title" content="C4a78db970bf035f8a1d96107bcd45b5d303d8cebc7116045e856b319e2cbbb2">
    

    
      <meta name="twitter:url" content="http://localhost:4000/archive/1995/08/c4a78db970bf035f8a1d96107bcd45b5d303d8cebc7116045e856b319e2cbbb2/">
    

    
      <meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!">
    

    

    <!-- Font awesome icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/static/css/syntax.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/super-search.css">
    <link rel="stylesheet" href="/static/css/thickbox.css">
    <link rel="stylesheet" href="/static/css/projects.css">
    <link rel="stylesheet" href="/static/css/main.css">

    
  </head>
  <body>
    <div class="container">
      <div class="col-sm-3">
        <div class="fixed-condition">
          <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a>
          <h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1>
          
            <div class="profile-about">
              Arise, you have nothing to lose but your barbed wire fences!
            </div>
          
          <div class="social">
            <ul>
              
                <li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a></li>
              
                <li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a></li>
              
                <li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></li>
              
            </ul>
          </div>
          <hr />
          <ul class="sidebar-nav">
            <strong>Navigation</strong>
            <li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a></li>
            <li><a href="/">Archive Home</a></li>
          </ul>
          <hr>
          <ul class="sidebar-nav">
            <strong>Similar Resources</strong>
            
              <li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a></li>
            
              <li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a></li>
            
              <li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></li>
            
          </ul>
        </div>
        <!-- end /.fixed-condition -->
      </div>
      <div class="col-sm-8 col-offset-1 main-layout">
        <h1 id="1995-08-28---server-congestion">1995-08-28 - Server congestion</h1>

<h2 id="header-data">Header Data</h2>

<p>From: Christian Wettergren &lt;cwe@Csli.Stanford.EDU&gt;<br />
To: Piete Brooks &lt;Piete.Brooks@cl.cam.ac.uk&gt;<br />
Message Hash: c4a78db970bf035f8a1d96107bcd45b5d303d8cebc7116045e856b319e2cbbb2<br />
Message ID: &lt;199508280041.RAA22255@Csli.Stanford.EDU&gt;<br />
Reply To: <em>N/A</em><br />
UTC Datetime: 1995-08-28 00:42:04 UTC<br />
Raw Date: Sun, 27 Aug 95 17:42:04 PDT<br /></p>

<h2 id="raw-message">Raw message</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: Christian Wettergren &lt;cwe@Csli.Stanford.EDU&gt;
Date: Sun, 27 Aug 95 17:42:04 PDT
To: Piete Brooks &lt;Piete.Brooks@cl.cam.ac.uk&gt;
Subject: Server congestion
Message-ID: &lt;199508280041.RAA22255@Csli.Stanford.EDU&gt;
MIME-Version: 1.0
Content-Type: text/plain



I talked about acks of acks in a previous message, and I guess is was
somewhat vague there.

What happened, according to my uninformed view, during the SSL2
challenge was that the server got congested, and had problems with
both answering to key allocation requests and ack replies. I guess 
that the load of the machine was so high that it lost packets in the
input queues.

Client -----&gt; UDP/Key allocation req ----&gt; 
Client -----&gt; UDP/Key allocation req ----&gt; 
Client -----&gt; UDP/Key allocation req ----&gt; Server ---+
                                                     | alloc
Client &lt;------- UDP/allocation reply ----------------+
  |
  | working...
  | 
Client ------- UDP/ack ------------------&gt; ??

One problem was that the client believed that the ACK had arrived
at the server if it had sent it off, not counting with the possibility
of the ACK being lost on the way.

I instead propose that the Server sends a acknowledgement
back to the client once it has received an ACK from a client.

  | working...
  | 
Client ------- UDP/ack ------------------&gt; Server -+
                                                   |
Client &lt;------ UDP/Server-ack ------------ Server -+

And then the client knows the server actually received the ACK
and has incorporated it into its table.

The client has to handle the case that either the Ack or the
Server-ack is lost. I propose it doesn't retransmit immediately,
but rather waits until next time it has to ack something, and 
piggybacks the old ack onto the new one.

Client -----&gt; UDP/Key allocation req ----&gt; 
Client -----&gt; UDP/Key allocation req ----&gt; 
Client -----&gt; UDP/Key allocation req ----&gt; Server ---+
                                                     | alloc
Client &lt;------- UDP/allocation reply ----------------+
  |
  | working...
  | 
Client ------- UDP/ack1 ------------------&gt; ??
  | 
"oops, oh well, lets try later."
  |
Client -----&gt; UDP/Key allocation req ----&gt; Server ---+
                                                     | alloc
Client &lt;------- UDP/allocation reply ----------------+
  |
  | working...
  | 
Client ------- UDP/ack2/ack1 ------------&gt; Server -+
                                                   |
Client &lt;------ UDP/Server-ack {1,2} ------ Server -+
  | 

There are countermeasures if either part doesn't get messages for some
reason. 

If the server doesn't see the ACK for a block, it might give that
block out to someone else.

If the client is unable to retrieve a block from the server, I suggest
it just picks a random block and starts working on it. I may very
well not be allocated to someone else, and then the client was able
to do something good in the meantime even though it didn't get a
proper key alloc. 

/Christian






</code></pre></div></div>

<h2 id="thread">Thread</h2>

<ul>
  <li>
    <p>Return to <a href="/archive/1995/08">August 1995</a></p>
  </li>
  <li>
    <p>1995-08-28 (Sun, 27 Aug 95 17:42:04 PDT) - Server congestion - <em>Christian Wettergren &lt;cwe@Csli.Stanford.EDU&gt;</em></p>
    <ul>
      <li>1995-08-28 (Mon, 28 Aug 95 02:40:29 PDT) - <a href="/archive/1995/08/45f7c29240e2155b059d25243e955b43cd08cfa09b56352adcb8bae1423e7dac">Re: Server congestion</a> - <em>Piete Brooks &lt;Piete.Brooks@cl.cam.ac.uk&gt;</em>
        <ul>
          <li>1995-08-28 (Mon, 28 Aug 95 09:46:47 PDT) - <a href="/archive/1995/08/54ef7a6ce7059a0fa17cfd9ffe39cb72b4855118b90b3d8977329bd8290812a9">Re: Server congestion</a> - <em>Christian Wettergren &lt;cwe@Csli.Stanford.EDU&gt;</em></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>


        <footer>
          
            - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a>
          
        </footer>
      </div>
      <!-- end /.col-sm-8 -->
    </div>
    <!-- end /.container -->

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/super-search.js"></script>
    <script src="/static/js/thickbox-compressed.js"></script>
    <script src="/static/js/projects.js"></script>
  </body>
</html>

