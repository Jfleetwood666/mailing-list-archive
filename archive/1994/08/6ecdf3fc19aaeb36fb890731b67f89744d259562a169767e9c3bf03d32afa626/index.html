<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="6ecdf3fc19aaeb36fb890731b67f89744d259562a169767e9c3bf03d32afa626" /><meta name="keywords" content="6ecdf3fc19aaeb36fb890731b67f89744d259562a169767e9c3bf03d32afa626, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="6ecdf3fc19aaeb36fb890731b67f89744d259562a169767e9c3bf03d32afa626" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1994/08/6ecdf3fc19aaeb36fb890731b67f89744d259562a169767e9c3bf03d32afa626/" property="og:url"><meta content="2018-06-23T00:09:03+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="6ecdf3fc19aaeb36fb890731b67f89744d259562a169767e9c3bf03d32afa626"><meta name="twitter:url" content="http://localhost:4000/archive/1994/08/6ecdf3fc19aaeb36fb890731b67f89744d259562a169767e9c3bf03d32afa626/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1994-08-06---improved-remailer-reordering">1994-08-06 - Improved remailer reordering</h1><h2 id="header-data">Header Data</h2><p>From: Hal &lt;hfinney@shell.portal.com&gt;<br /> To: cypherpunks@toad.com<br /> Message Hash: 6ecdf3fc19aaeb36fb890731b67f89744d259562a169767e9c3bf03d32afa626<br /> Message ID: &lt;199408061531.IAA28014@jobe.shell.portal.com&gt;<br /> Reply To: <em>N/A</em><br /> UTC Datetime: 1994-08-06 15:31:20 UTC<br /> Raw Date: Sat, 6 Aug 94 08:31:20 PDT<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">From</span><span class="p">:</span> <span class="n">Hal</span> <span class="p">&lt;</span><span class="n">hfinney</span><span class="p">@</span><span class="n">shell</span><span class="p">.</span><span class="n">portal</span><span class="p">.</span><span class="n">com</span><span class="p">&gt;</span>
<span class="n">Date</span><span class="p">:</span> <span class="n">Sat</span><span class="p">,</span> <span class="m">6</span> <span class="n">Aug</span> <span class="m">94</span> <span class="m">08</span><span class="p">:</span><span class="m">31</span><span class="p">:</span><span class="m">20</span> <span class="n">PDT</span>
<span class="k">To</span><span class="p">:</span> <span class="n">cypherpunks</span><span class="p">@</span><span class="n">toad</span><span class="p">.</span><span class="n">com</span>
<span class="n">Subject</span><span class="p">:</span> <span class="n">Improved</span> <span class="n">remailer</span> <span class="n">reordering</span>
<span class="n">Message</span><span class="p">-</span><span class="n">ID</span><span class="p">:</span> <span class="p">&lt;</span><span class="m">199408061531.</span><span class="n">IAA28014</span><span class="p">@</span><span class="n">jobe</span><span class="p">.</span><span class="n">shell</span><span class="p">.</span><span class="n">portal</span><span class="p">.</span><span class="n">com</span><span class="p">&gt;</span>
<span class="n">MIME</span><span class="p">-</span><span class="k">Version</span><span class="p">:</span> <span class="m">1.0</span>
<span class="n">Content</span><span class="p">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">text</span><span class="p">/</span><span class="n">plain</span>


<span class="n">Here</span> <span class="n">is</span> <span class="n">an</span> <span class="n">interesting</span> <span class="n">result</span> <span class="n">I</span> <span class="n">came</span> <span class="n">up</span> <span class="k">with</span> <span class="k">while</span> <span class="n">lying</span> <span class="k">in</span> <span class="n">bed</span> <span class="n">last</span>
<span class="n">night</span><span class="p">.</span>  <span class="n">It</span> <span class="n">has</span> <span class="k">to</span> <span class="k">do</span> <span class="k">with</span> <span class="n">the</span> <span class="n">latency</span><span class="p">/</span><span class="n">reordering</span> <span class="n">issue</span><span class="p">.</span>

<span class="k">As</span> <span class="n">Eric</span> <span class="k">and</span> <span class="n">others</span> <span class="n">have</span> <span class="n">pointed</span> <span class="n">out</span><span class="p">,</span> <span class="n">what</span> <span class="n">you</span> <span class="n">want</span> <span class="k">with</span> <span class="n">a</span> <span class="n">remailer</span> <span class="n">is</span> <span class="k">to</span>
<span class="n">mix</span> <span class="n">up</span> <span class="n">the</span> <span class="n">messages</span> <span class="n">so</span> <span class="n">you</span> <span class="n">can</span><span class="s1">'t link incoming to outgoing one.  This
implies that you have more than one message to work with, otherwise you
don'</span><span class="n">t</span> <span class="n">have</span> <span class="n">anything</span> <span class="k">to</span> <span class="n">mix</span><span class="p">.</span>  <span class="k">And</span> <span class="n">this</span> <span class="nf">implies</span> <span class="n">some</span> <span class="n">necessary</span> <span class="n">latency</span><span class="p">;</span> <span class="n">you</span>
<span class="n">have</span> <span class="k">to</span> <span class="nf">wait</span> <span class="k">until</span> <span class="n">you</span> <span class="n">have</span> <span class="n">more</span> <span class="n">than</span> <span class="n">one</span> <span class="n">message</span> <span class="n">on</span> <span class="n">hand</span> <span class="n">before</span> <span class="n">sending</span>
<span class="n">things</span> <span class="n">out</span><span class="p">.</span>  <span class="n">However</span><span class="p">,</span> <span class="n">note</span> <span class="n">that</span> <span class="n">latency</span> <span class="k">in</span> <span class="n">itself</span> <span class="n">is</span> <span class="n">generally</span> <span class="n">bad</span><span class="p">.</span>  <span class="n">You</span>
<span class="n">shouldn</span><span class="s1">'t wait longer than you need to to attain the desired degree of
mixing.

One simple way this can work is by batching messages up.  This could be
done by running the remailer at regular intervals, choosing the intervals
so that you tend to have enough messages on hand based on average arrival
times.  But a simpler way is to simply wait until you have N messages on
hand, then to promptly mix them up and send them out.  This way you have
a predictable number of messages to mix each time.  Note that in a system
like this you might as well send them all out as soon as the Nth message
comes in; there is no point in holding on to them for any extra time as
it adds latency without improving mixing.

The interesting thing I came up with is that there is a simple modification
to this batching scheme which gives better mixing with less average latency.
To describe it I need some mathematics.

One way to measure the benefit of a given degree of message-mixing is by
looking at the uncertainty of position of a given message coming in and
going out.  If we had batches of 4, for example, a given message coming
in has its position known with certainty.  Going out, it may be any one of
four messages, and the probability of it being any one of them is 1/4.

A measure that is used for situations like this is entropy.  It is defined
as the negative of the sum of the product of each probability times its
log.  (I will use log to the base 2 for the calculations for simplicity.)
That is, E = - sum pi * log pi.

For the incoming message, we have just {1} as the probability distribution.
We know exactly where it is and the probability is 1 that it is there.
For the outgoing we have {1/4,1/4,1/4,1/4} as the distribution.  It may
be any of these four messages with equal probability.  Applying the entropy
formula to these we get E=0 for the incoming, and E=2 for the outgoing.
If we had batches of 8 instead the distribution would have been {1/8,1/8,
1/8,1/8,1/8,1/8,1/8,1/8}, for E=3.  Note that entropy is a log measure
like the Richter scale.  An increase from 2 to 3 is just as big as an
increase from 1 to 2.

To consider different batching strategies, consider a remailer where the
messages come in one per hour, at 1:00, 2:00, 3:00, etc.  A four-fold
batching strategy would save up messages until there were four, then
randomly reshuffle them and send them out.  For this case we'</span><span class="n">d</span> <span class="nf">wait</span> <span class="k">until</span>
<span class="n">the</span> <span class="m">4</span><span class="p">:</span><span class="m">00</span> <span class="n">message</span><span class="p">,</span> <span class="k">then</span> <span class="n">shuffle</span> <span class="n">numbers</span> <span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span> <span class="k">and</span> <span class="nf">send</span> <span class="n">them</span> <span class="n">out</span><span class="p">,</span> <span class="n">say</span><span class="p">,</span>
<span class="n">at</span> <span class="m">4</span><span class="p">:</span><span class="m">01</span><span class="p">,</span> <span class="k">in</span> <span class="n">some</span> <span class="nb">random</span> <span class="n">order</span><span class="p">,</span> <span class="n">maybe</span> <span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">3.</span>  <span class="k">Then</span> <span class="n">we</span><span class="s1">'d save up more
until 8:01 at which time we might send out 7,5,8,6.  Note first that there
is no point in waiting till after 4:01; once we have the four messages we
might as well go.  Note too that the average latency for messages in this
system is 1.5 hours (the four messages have latencies of 0,1,2 and 3 hours).

Four-fold batching produces entropy E of 2 and average latency L of 1.5
hours.  Three-fold batching has E=1.58 and L=1; two-fold batching has
E=1 and L=.5.  Generally, N-fold batching has E=log base 2 of N, L=(N-1)/2.

Okay, with this background, we can consider the alternative which gives
improvement.  It is to have some "rollover" of messages.  Instead of sending
all of the messages in a batch out, you retain some of them and use them
to start the next batch.  I call an (M,N) rollover system one which uses
batches of M messages but retains N as rollover, sending M-N out each time.
By this definition the four-fold latency system above could be called a
(4,0) rollover where the 0 means we don'</span><span class="n">t</span> <span class="n">roll</span> <span class="n">any</span> <span class="n">over</span> <span class="k">and</span> <span class="nf">send</span> <span class="n">them</span> <span class="n">all</span>
<span class="n">out</span><span class="p">.</span>

<span class="n">The</span> <span class="n">simplest</span> <span class="n">rollover</span> <span class="k">case</span> <span class="n">is</span> <span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">).</span>  <span class="n">This</span> <span class="k">uses</span> <span class="n">batches</span> <span class="k">of</span> <span class="m">2</span> <span class="n">messages</span><span class="p">,</span>
<span class="n">where</span> <span class="n">you</span> <span class="n">choose</span> <span class="n">one</span> <span class="n">at</span> <span class="nb">random</span> <span class="k">to</span> <span class="nf">send</span> <span class="n">out</span> <span class="k">and</span> <span class="n">keep</span> <span class="n">one</span><span class="p">.</span>  <span class="k">Then</span> <span class="n">when</span> <span class="n">the</span>
<span class="k">next</span> <span class="n">message</span> <span class="n">arrives</span> <span class="n">you</span> <span class="n">again</span> <span class="n">choose</span> <span class="n">at</span> <span class="nb">random</span> <span class="n">between</span> <span class="n">the</span> <span class="n">new</span> <span class="n">one</span> <span class="k">and</span>
<span class="n">the</span> <span class="n">old</span> <span class="n">one</span><span class="p">,</span> <span class="nf">send</span> <span class="n">that</span> <span class="n">out</span><span class="p">,</span> <span class="k">and</span> <span class="n">keep</span> <span class="n">the</span> <span class="n">other</span><span class="p">.</span>

<span class="k">In</span> <span class="n">the</span> <span class="n">timing</span> <span class="n">example</span> <span class="n">above</span><span class="p">,</span> <span class="n">suppose</span> <span class="n">we</span> <span class="n">have</span> <span class="n">the</span> <span class="n">message</span> <span class="k">from</span> <span class="m">1</span><span class="p">:</span><span class="m">00.</span>  <span class="k">Then</span>
<span class="n">at</span> <span class="m">2</span><span class="p">:</span><span class="m">00</span> <span class="n">when</span> <span class="n">that</span> <span class="n">message</span> <span class="n">arrives</span><span class="p">,</span> <span class="n">we</span> <span class="n">pick</span> <span class="n">one</span> <span class="k">of</span> <span class="n">the</span> <span class="n">two</span> <span class="n">messages</span> <span class="n">at</span>
<span class="nb">random</span> <span class="k">and</span> <span class="nf">send</span> <span class="n">it</span> <span class="n">out</span><span class="p">.</span>  <span class="n">Suppose</span> <span class="n">it</span> <span class="n">is</span> <span class="n">number</span> <span class="m">2.</span>  <span class="n">We</span> <span class="n">retain</span> <span class="n">number</span> <span class="m">1</span> <span class="k">until</span>
<span class="m">3</span><span class="p">:</span><span class="m">00.</span>  <span class="k">Then</span> <span class="n">we</span> <span class="n">choose</span> <span class="n">at</span> <span class="nb">random</span> <span class="n">between</span> <span class="m">1</span> <span class="k">and</span> <span class="m">3.</span>  <span class="n">Maybe</span> <span class="n">we</span> <span class="n">pick</span> <span class="m">1</span> <span class="n">this</span>
<span class="n">time</span><span class="p">.</span>  <span class="n">We</span> <span class="n">keep</span> <span class="m">3</span> <span class="k">until</span> <span class="m">4</span><span class="p">:</span><span class="m">00</span><span class="p">,</span> <span class="k">then</span> <span class="n">choose</span> <span class="n">at</span> <span class="nb">random</span> <span class="n">between</span> <span class="m">3</span> <span class="k">and</span> <span class="m">4</span><span class="p">,</span> <span class="k">and</span>
<span class="n">so</span> <span class="n">on</span><span class="p">.</span>

<span class="n">Each</span> <span class="n">message</span> <span class="n">has</span> <span class="n">a</span> <span class="m">1</span><span class="p">/</span><span class="m">2</span> <span class="n">chance</span> <span class="k">of</span> <span class="n">being</span> <span class="n">sent</span> <span class="n">out</span> <span class="n">immediately</span><span class="p">,</span> <span class="n">a</span> <span class="m">1</span><span class="p">/</span><span class="m">4</span> <span class="n">chance</span>
<span class="k">of</span> <span class="n">being</span> <span class="n">sent</span> <span class="n">out</span> <span class="n">after</span> <span class="m">1</span> <span class="n">hour</span><span class="p">,</span> <span class="n">a</span> <span class="m">1</span><span class="p">/</span><span class="m">8</span> <span class="n">chance</span> <span class="k">of</span> <span class="n">going</span> <span class="n">out</span> <span class="n">after</span> <span class="m">2</span> <span class="n">hours</span><span class="p">,</span>
<span class="n">a</span> <span class="m">1</span><span class="p">/</span><span class="m">16</span> <span class="n">chance</span> <span class="k">of</span> <span class="n">going</span> <span class="n">out</span> <span class="n">after</span> <span class="m">3</span> <span class="n">hours</span><span class="p">,</span> <span class="k">and</span> <span class="n">so</span> <span class="n">on</span><span class="p">.</span>  <span class="n">This</span> <span class="n">means</span> <span class="n">that</span> <span class="n">the</span>
<span class="n">outgoing</span> <span class="n">probability</span> <span class="n">distribution</span> <span class="n">is</span> <span class="p">{</span><span class="m">1</span><span class="p">/</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">/</span><span class="m">4</span><span class="p">,</span><span class="m">1</span><span class="p">/</span><span class="m">8</span><span class="p">,</span><span class="m">1</span><span class="p">/</span><span class="m">16</span><span class="p">,...}.</span>  <span class="n">The</span> <span class="n">entropy</span>
<span class="k">of</span> <span class="n">this</span> <span class="n">probability</span> <span class="n">distribution</span> <span class="n">is</span> <span class="m">1</span><span class="p">/</span><span class="m">2</span><span class="p">+</span><span class="m">2</span><span class="p">/</span><span class="m">4</span><span class="p">+</span><span class="m">3</span><span class="p">/</span><span class="m">8</span><span class="p">+</span><span class="m">4</span><span class="p">/</span><span class="m">16</span><span class="p">+</span><span class="m">5</span><span class="p">/</span><span class="m">32</span><span class="p">+</span><span class="m">6</span><span class="p">/</span><span class="m">64</span><span class="p">+...</span> <span class="k">from</span>
<span class="n">the</span> <span class="n">formula</span> <span class="n">above</span><span class="p">,</span> <span class="n">which</span> <span class="n">works</span> <span class="n">out</span> <span class="k">to</span> <span class="n">be</span> <span class="m">2.</span>  <span class="n">The</span> <span class="n">average</span> <span class="n">latency</span> <span class="n">is</span>
<span class="m">0</span><span class="p">+</span><span class="m">1</span><span class="p">/</span><span class="m">4</span><span class="p">+</span><span class="m">2</span><span class="p">/</span><span class="m">8</span><span class="p">+</span><span class="m">3</span><span class="p">/</span><span class="m">16</span><span class="p">+</span><span class="m">4</span><span class="p">/</span><span class="m">32</span><span class="p">+</span><span class="m">5</span><span class="p">/</span><span class="m">64</span><span class="p">+...,</span> <span class="n">which</span> <span class="n">works</span> <span class="n">out</span> <span class="k">to</span> <span class="n">be</span> <span class="m">1.</span>

<span class="n">So</span><span class="p">,</span> <span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="n">rollover</span> <span class="n">batching</span> <span class="n">produces</span> <span class="n">E</span><span class="p">=</span><span class="m">2</span> <span class="k">and</span> <span class="n">L</span><span class="p">=</span><span class="m">1.</span>  <span class="n">This</span> <span class="n">is</span> <span class="n">the</span> <span class="n">same</span> <span class="n">entropy</span>
<span class="k">as</span> <span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="n">batching</span> <span class="k">with</span> <span class="n">less</span> <span class="n">average</span> <span class="n">latency</span><span class="p">.</span>  <span class="n">Alternatively</span><span class="p">,</span> <span class="n">it</span> <span class="n">is</span> <span class="n">more</span>
<span class="n">entropy</span> <span class="n">than</span> <span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="n">batching</span> <span class="k">with</span> <span class="n">the</span> <span class="n">same</span> <span class="n">average</span> <span class="n">latency</span><span class="p">.</span>  <span class="n">It</span> <span class="n">also</span> <span class="n">has</span>
<span class="n">the</span> <span class="n">advantage</span> <span class="n">that</span> <span class="n">you</span> <span class="n">never</span> <span class="n">have</span> <span class="k">to</span> <span class="n">hold</span> <span class="n">more</span> <span class="n">than</span> <span class="n">two</span> <span class="n">messages</span><span class="p">,</span> <span class="n">compared</span>
<span class="k">with</span> <span class="n">three</span> <span class="k">or</span> <span class="n">four</span> <span class="n">for</span> <span class="n">the</span> <span class="n">alternatives</span><span class="p">.</span>  <span class="n">So</span> <span class="n">this</span> <span class="n">scheme</span> <span class="n">has</span> <span class="n">several</span> <span class="n">ad</span><span class="p">-</span>
<span class="n">vantages</span> <span class="n">over</span> <span class="n">simple</span> <span class="n">batching</span><span class="p">.</span>

<span class="n">Now</span><span class="p">,</span> <span class="n">it</span> <span class="n">does</span> <span class="n">have</span> <span class="n">one</span> <span class="n">disadvantage</span><span class="p">,</span> <span class="n">which</span> <span class="n">is</span> <span class="n">that</span> <span class="n">there</span> <span class="n">is</span> <span class="n">no</span> <span class="n">upper</span> <span class="n">bound</span>
<span class="n">on</span> <span class="n">the</span> <span class="n">latency</span> <span class="k">of</span> <span class="n">a</span> <span class="n">message</span><span class="p">.</span>  <span class="k">With</span> <span class="n">the</span> <span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="n">batching</span> <span class="n">you</span> <span class="n">may</span> <span class="n">have</span> <span class="n">had</span>
<span class="n">more</span> <span class="n">latency</span><span class="p">,</span> <span class="n">but</span> <span class="n">you</span> <span class="n">at</span> <span class="n">least</span> <span class="n">know</span> <span class="n">that</span> <span class="n">nothing</span> <span class="n">would</span> <span class="n">have</span> <span class="n">more</span> <span class="n">than</span> <span class="m">3</span>
<span class="n">message</span><span class="p">-</span><span class="n">times</span><span class="p">.</span>  <span class="k">With</span> <span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="n">there</span> <span class="n">is</span> <span class="n">a</span> <span class="n">small</span> <span class="n">chance</span> <span class="k">of</span> <span class="n">having</span> <span class="n">very</span> <span class="n">large</span>
<span class="n">latencies</span><span class="p">.</span>  <span class="k">In</span> <span class="n">fairness</span><span class="p">,</span> <span class="n">though</span><span class="p">,</span> <span class="n">it</span> <span class="n">should</span> <span class="n">be</span> <span class="n">pointed</span> <span class="n">out</span> <span class="n">that</span> <span class="k">in</span> <span class="n">a</span> <span class="k">real</span>
<span class="nf">system</span> <span class="n">messages</span> <span class="n">arrive</span> <span class="n">at</span> <span class="n">irregular</span> <span class="n">intervals</span> <span class="n">rather</span> <span class="n">than</span> <span class="n">the</span> <span class="n">clockwork</span>
<span class="k">model</span> <span class="n">I</span> <span class="n">used</span> <span class="n">above</span><span class="p">,</span> <span class="n">so</span> <span class="n">even</span> <span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">0</span><span class="p">)</span> <span class="n">would</span> <span class="n">have</span> <span class="nb">random</span> <span class="n">latency</span> <span class="n">ceilings</span><span class="p">.</span>  <span class="n">Also</span><span class="p">,</span>
<span class="n">it</span> <span class="n">might</span> <span class="n">be</span> <span class="n">possible</span> <span class="k">to</span> <span class="n">modify</span> <span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">)</span> <span class="n">so</span> <span class="n">that</span> <span class="n">messages</span> <span class="n">never</span> <span class="n">waited</span> <span class="n">more</span> <span class="n">than</span>
<span class="n">some</span> <span class="n">maximum</span> <span class="n">number</span> <span class="k">of</span> <span class="n">hours</span> <span class="n">without</span> <span class="n">seriously</span> <span class="n">hurting</span> <span class="n">the</span> <span class="n">entropy</span><span class="p">.</span>

<span class="n">I</span> <span class="n">haven</span><span class="s1">'t tried working out the details of other rollover methods, but I
suspect that this will be a general method of improving entropy at little
cost in latency.  In real life we would want large entropies but starting
with a (10,0) I'</span><span class="n">ll</span> <span class="n">bet</span> <span class="n">many</span> <span class="n">rollover</span> <span class="n">systems</span> <span class="n">would</span> <span class="n">be</span> <span class="n">superior</span><span class="p">.</span>

<span class="n">Hal</span>






</code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1994/08">August 1994</a><li><p>1994-08-06 (Sat, 6 Aug 94 08:31:20 PDT) - Improved remailer reordering - <em>Hal &lt;hfinney@shell.portal.com&gt;</em><ul><li>1994-08-06 (Sat, 6 Aug 94 16:48:42 PDT) - <a href="/archive/1994/08/6f12ff1bcbca4179d238311abf6ae0d27a56db16cbf9eec220758f49e0b3709f">Improved remailer reordering</a> - <em>hughes@ah.com (Eric Hughes)</em></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
