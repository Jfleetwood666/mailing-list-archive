<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="3026d75f66b5404450e1397813b1cd9a44e9bc590a113b58f5061d5b32281516" /><meta name="keywords" content="3026d75f66b5404450e1397813b1cd9a44e9bc590a113b58f5061d5b32281516, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="3026d75f66b5404450e1397813b1cd9a44e9bc590a113b58f5061d5b32281516" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1993/07/3026d75f66b5404450e1397813b1cd9a44e9bc590a113b58f5061d5b32281516/" property="og:url"><meta content="2018-06-27T00:58:45+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="3026d75f66b5404450e1397813b1cd9a44e9bc590a113b58f5061d5b32281516"><meta name="twitter:url" content="http://localhost:4000/archive/1993/07/3026d75f66b5404450e1397813b1cd9a44e9bc590a113b58f5061d5b32281516/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a><li><a href="/archive/">Posts by Year</a><li><a href="/authors/by-posts/">Authors by Post Number</a><li><a href="/authors/notable/">Notable Authors</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1993-07-25---remail-replying-to-cp-remailed-messages">1993-07-25 - REMAIL: replying to cp-remailed messages</h1><h2 id="header-data">Header Data</h2><p>From: hfinney<span>@</span>shell.portal.com<br /> To: cypherpunks@toad.com<br /> Message Hash: 3026d75f66b5404450e1397813b1cd9a44e9bc590a113b58f5061d5b32281516<br /> Message ID: &lt;9307242019.AA01355@jobe.shell.portal.com&gt;<br /> Reply To: <em>N/A</em><br /> UTC Datetime: 1993-07-25 00:02:44 UTC<br /> Raw Date: Sat, 24 Jul 93 17:02:44 PDT<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: hfinney@shell.portal.com
Date: Sat, 24 Jul 93 17:02:44 PDT
To: cypherpunks@toad.com
Subject: REMAIL: replying to cp-remailed messages
Message-ID: &lt;9307242019.AA01355@jobe.shell.portal.com&gt;
MIME-Version: 1.0
Content-Type: text/plain


I want to elaborate on Eric's comment about the "##" pasting token.
The cypherpunks remailers are activated by mail header fields.  They look
for a header entry of the form "Request-Remailing-To:" among the Subject,
From, To, etc. headers.  Although it is traditional for user-defined extension
header fields to start with "X-", Eric argued that since we hope to extend
remailer availability to the point that it is a widespread and standard
service, it was reasonable to choose a non-"X-" field name.

Since some mailers don't allow users to insert header fields, Eric created
the "::" incoming pasting token.  If no header field is found matching the
ones the remailer looks for, it then checks to see if the first non-blank
line of the message is "::".  If so, it copies all the following lines of
the message into the header, up to the next blank line, and then restarts
processing of the message.  The "::" line is intended to be followed by the
user-added header fields like "Request-Remailing-To".

When the remailer does a remailing step, it strips all of the header fields
except Subject.  Keeping the Subject header impairs security somewhat because
it would facilitate pairing up input and output messages, but it adds a
lot of convenience for users.

What is little known is that there is another step which can be done.  Just
before the remailer sends a message for which remailing has been requested,
it again checks the first non-blank line, this time to see if it is the
outgoing pasting token "##".  If so, it again copies the following lines
up to a blank line into the message header of the outgoing message.  The
message is then sent without further processing.

This means that any header line can be added to an outgoing message by
this means.  In particular, as Eric pointed out, a Reply-To header could be
added which would reveal the true sender of the message for those cases
where that was wanted.  Subject headers could also be added at this step
as well as after the :: incoming pasting token.  

Hal Finney
hfinney@shell.portal.com





</code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1993/07">July 1993</a><li><p>Return to “<a href="/author/hfinney_at_shell_portal_com">hfinney<span>@</span>shell.portal.com</a>”<li><p>1993-07-25 (Sat, 24 Jul 93 17:02:44 PDT) - REMAIL: replying to cp-remailed messages - <em>hfinney@shell.portal.com</em></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
