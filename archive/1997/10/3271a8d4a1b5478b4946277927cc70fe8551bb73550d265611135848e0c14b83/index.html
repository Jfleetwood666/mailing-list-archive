<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/static/img/favicons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/static/img/favicons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title>
    <meta name="author" content="cryptoanarchy.wiki" />
    <meta name="description" content="3271a8d4a1b5478b4946277927cc70fe8551bb73550d265611135848e0c14b83" />
    <meta name="keywords" content="3271a8d4a1b5478b4946277927cc70fe8551bb73550d265611135848e0c14b83, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
    <meta content="" property="fb:app_id">
    <meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name">

    

    
      <meta content="3271a8d4a1b5478b4946277927cc70fe8551bb73550d265611135848e0c14b83" property="og:title">
      <meta content="article" property="og:type">
    

    
      <meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description">
    

    
      <meta content="http://localhost:4000/archive/1997/10/3271a8d4a1b5478b4946277927cc70fe8551bb73550d265611135848e0c14b83/" property="og:url">
    

    
      <meta content="2018-06-20T21:43:48+02:00" property="article:published_time">
      <meta content="http://localhost:4000/about/" property="article:author">
    

    
      <meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image">
    

    
      
    

    
      
    

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@_cryptoanarchy">
    <meta name="twitter:creator" content="@_cryptoanarchy">

    
      <meta name="twitter:title" content="3271a8d4a1b5478b4946277927cc70fe8551bb73550d265611135848e0c14b83">
    

    
      <meta name="twitter:url" content="http://localhost:4000/archive/1997/10/3271a8d4a1b5478b4946277927cc70fe8551bb73550d265611135848e0c14b83/">
    

    
      <meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!">
    

    

    <!-- Font awesome icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/static/css/syntax.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/super-search.css">
    <link rel="stylesheet" href="/static/css/thickbox.css">
    <link rel="stylesheet" href="/static/css/projects.css">
    <link rel="stylesheet" href="/static/css/main.css">

    
  </head>
  <body>
    <div class="container">
      <div class="col-sm-3">
        <div class="fixed-condition">
          <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a>
          <h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1>
          
            <div class="profile-about">
              Arise, you have nothing to lose but your barbed wire fences!
            </div>
          
          <div class="social">
            <ul>
              
                <li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a></li>
              
                <li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a></li>
              
                <li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></li>
              
            </ul>
          </div>
          <hr />
          <ul class="sidebar-nav">
            <strong>Navigation</strong>
            <li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a></li>
            <li><a href="/">Archive Home</a></li>
          </ul>
          <hr>
          <ul class="sidebar-nav">
            <strong>Similar Resources</strong>
            
              <li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a></li>
            
              <li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a></li>
            
              <li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></li>
            
          </ul>
        </div>
        <!-- end /.fixed-condition -->
      </div>
      <div class="col-sm-8 col-offset-1 main-layout">
        <h1 id="1997-10-16---checklist">1997-10-16 - Checklist</h1>

<h2 id="header-data">Header Data</h2>

<p>From: Daniel Colpi &lt;colpi@biotest.bio.purdue.edu&gt;<br />
To: misc@openbsd.org<br />
Message Hash: 3271a8d4a1b5478b4946277927cc70fe8551bb73550d265611135848e0c14b83<br />
Message ID: &lt;199710161850.NAA17808@biotest.bio.purdue.edu&gt;<br />
Reply To: <em>N/A</em><br />
UTC Datetime: 1997-10-16 21:13:52 UTC<br />
Raw Date: Thu, 16 Oct 1997 14:13:52 -0700 (PDT)<br /></p>

<h2 id="raw-message">Raw message</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: Daniel Colpi &lt;colpi@biotest.bio.purdue.edu&gt;
Date: Thu, 16 Oct 1997 14:13:52 -0700 (PDT)
To: misc@openbsd.org
Subject: Checklist
Message-ID: &lt;199710161850.NAA17808@biotest.bio.purdue.edu&gt;
MIME-Version: 1.0
Content-Type: text/plain




Greetings and Salutations,

A few days ago, I asked for help in making a step by step list on how
to "copy" OpenBSD from one computer to another.  Well I got a few 
answers, but many people wanted me to post this list when I was done.
So this is it, a mindless checklist of everything I did to "convert 
a DEC 3100 to the Dark Side"

If you can think of something I have missed, please throw me an e-mail.

Thanks

Daniel Colpi
colpi@purdue.edu


======================================================================

So, you want another OpenBSD computer hu?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
(assuming same disk setup, target is disk #0, and source is disk #1)
(also assuming rrz0a -&gt; /    ; rrz0c -&gt; swap
               rrz0d -&gt; /usr ; rrz0e -&gt;/usr/target  )
(Note: I am on a /bio backbone, this isn't going to be the same for you)
(Note: /bio/scratch3 is a temp space that I can write to)

___Save Files
   ___dump root to scratch (just in case)
                             --&gt;% dump -0f /bio/scratch3/dump /dev/rrz0a
   ___/etc/passwd --&gt; % mv /etc/passwd /bio/scratch3/passwd.target
   ___/etc/crontab
      ___any self created scripts you made to run with crontab
   ___/etc/fstab
   ___/usr/local/etc/mk-exports
   ___/etc/export.hosts
   ___/etc/export.fs.[n]
      (if you have a drive that is set up the way you want for target
      machine, you might want to save it to a file to save you some
      time)
      (Note: you might want to do this on a machine that is already
             converted)
   ___save your partition list  --&gt;% disklabel -r /dev/rrz1a &gt;&gt; temp_part
                                   % mv temp_part /bio/scratch3
___Shut down target
___Connect source drive
___Make sure drives are jumpered not to conflict (target=&gt;0 ; source=&gt;1)
___Plug in and power up
   ___Make sure clock is right time (some old computers lose some time)
   ___Make sure you see both drives (ie drive 1 &amp; drive 0)
___Run disklabel  (I had drouble labeling the disk, but this worked)
        --&gt;% disklabel -r /dev/rrz1a &gt;&gt; temp
           % disklabel -B -R /dev/rrz0a temp
           % disklabel -e /dev/rrz0a
   ___ / = _______________
   ___ swap = ____________
   ___ /usr = ____________ / ______________ (target / source)
                                            (remove src if desired)
   ___ /usr/target = _______________
        (if you have a "cookie-cut" version you can just:)
        --&gt;% disklabel -B -R /dev/rrz0a /bio/scratch3/temp_part
___Run newfs  --&gt;% newfs /dev/rrz0[ad]
___Transfer files
          ---&gt;% mount /dev/rz0a  /mnt
              % cd /mnt
              % df -k .     (make sure enough room)
              % df -k /
              % dump 0f - /dev/rrz1a | restore -rf -
              % rm restoresystable   (if you don't do this you'll be sorry)
              % cd /
              % umount /mnt
              % mount /dev/rz0d  /mnt                ---+
              % cd /mnt                                 |
              % df -k .                                 |  Repeate this 
              % dump 0f - /dev/rrz1d | restore -if -    |   section if
      restore &gt; add [all dir's you want to keep]        |     needed
      restore &gt; extract                                 |       on
      restore &gt; set owner/mode for /./? [yn] n          |     other
      restore &gt; quit                                    |   partitions
      (Note: it will say "DUMP not completed" if you    |
       did not restore everything.  This is not a bad   |
       thing, ignore it)                                |
              % rm restoresystable (might not be there) |
              % cd /                                    |
              % umount /mnt                          ---+
___Configure  (BE CAREFUL to configure /mnt/etc  NOT /etc !!!!)
   ___mount /usr ---&gt;% mount /dev/rz0d  /mnt
   ___remove /mnt/etc/npt.drift
   ___make dir /mnt/usr/preserve
   ___replace all scripts made to be run by crontab
   ___move /bio/scratch3/mk-exports /mnt/usr/local/etc/mk-exports
   ___umount /mnt
   ___mount /   ---&gt;% mount /dev/rz0a /mnt
   ___replace rest of scripts to be used by crontab
   ___move /bio/scratch3/export.hosts /mnt/etc/export.hosts
   ___move /bio/scratch3/export.fs.[n] /mnt/etc/export.fs.[n]
   ___hostname
      ___/mnt/etc/hostname.le1
      ___/mnt/etc/exports        (or run /usr/local/etc/mk-exports)
      ___/mnt/etc/hosts  (change IP number too)
      ___/mnt/etc/myname
   ___/mnt/etc/rc   (maybe not if (flavor == vanilla))
   ___/mnt/etc/mygate
   ___/mnt/etc/passwd
      ___/usr/local/bin/tcsh (OpenBSD doesn't come with tcsh)
      ___reconfigure passwd file (for correct format)
          __ % mv /bio/scratch3/passwd.target /mnt/etc/passwd.orig
    same /   % nawk -F: ' { print $1 FS $2 FS $3 FS $4 "::0:0:" $5 FS \
    line \__ $6 FS $7 } ' /mnt/etc/passwd.orig &gt;&gt; /mnt/etc/passwd
             % pwd_mkdb -c /mnt/etc/passwd
             % pwd_mkdb -d /mnt/etc/ /mnt/etc/passwd
             % pwd_mkdb -d /mnt/etc/ -p /mnt/etc/passwd
             % chmod 600 /mnt/passwd.orig
   ___do you want permissive /mnt/root/.rhosts (bilbo root ; gimli root)
   ___how about cooperative /mnt/etc/ttys   (%s/network/network secure)
   ___if your source machine boots off disk 1 and target boots off
      disk 0, you need to make sure the correct kernal is at /mnt/bsd
   ___umount /mnt
___Power down
___Remove source drive
___Correct jumpers if nessary
___Power up
___Before starting OpenBSD at Boot Ram type:
        &gt;&gt; printenv
        &gt;&gt; setenv bootpath rz(0,0,0)/bsd
___Boot off of target disk
   ___restore user file system
      ---&gt;% cd /usr/target
          % rsh bilbo ls /usr/amanda/\*
       __    (now in order)
 same /   % rsh bilbo cat /usr/amanda/target.date.[0-&gt;(n-1)] \
 line \__   &lt; /dev/null | resore -rf -
             (now when done with above loop (IN ORDER!!!!!))
          % rm restoresystable
   ___recreate crontab
      ---&gt;% crontab -e
___Checks
   ___ping source machine (to make sure not same IP addresses)
   ___run ntpq -p 
   ___finger @localhost
   ___finger @target
   ___cd into /bio/scratch3/
   ___run date
   ___telnet to target from another machine
   ___ftp one file from another machine
   ___cd to /bio/target from another machine
___Go home early

Nessary Tools:
===============
   Screwdrivers (if internal drives)
   Postit-notes (for keeping drives straight)
   One hell of a lot of coffee





</code></pre></div></div>

<h2 id="thread">Thread</h2>

<ul>
  <li>
    <p>Return to <a href="/archive/1997/10">October 1997</a></p>
  </li>
  <li>
    <p>1997-10-16 (Thu, 16 Oct 1997 14:13:52 -0700 (PDT)) - Checklist - <em>Daniel Colpi &lt;colpi@biotest.bio.purdue.edu&gt;</em></p>
  </li>
</ul>


        <footer>
          
            - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a>
          
        </footer>
      </div>
      <!-- end /.col-sm-8 -->
    </div>
    <!-- end /.container -->

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/super-search.js"></script>
    <script src="/static/js/thickbox-compressed.js"></script>
    <script src="/static/js/projects.js"></script>
  </body>
</html>

