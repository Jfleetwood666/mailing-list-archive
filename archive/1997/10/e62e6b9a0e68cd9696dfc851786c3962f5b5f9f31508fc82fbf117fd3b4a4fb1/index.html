<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="E62e6b9a0e68cd9696dfc851786c3962f5b5f9f31508fc82fbf117fd3b4a4fb1" /><meta name="keywords" content="E62e6b9a0e68cd9696dfc851786c3962f5b5f9f31508fc82fbf117fd3b4a4fb1, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="E62e6b9a0e68cd9696dfc851786c3962f5b5f9f31508fc82fbf117fd3b4a4fb1" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1997/10/e62e6b9a0e68cd9696dfc851786c3962f5b5f9f31508fc82fbf117fd3b4a4fb1/" property="og:url"><meta content="2018-06-27T00:58:45+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="E62e6b9a0e68cd9696dfc851786c3962f5b5f9f31508fc82fbf117fd3b4a4fb1"><meta name="twitter:url" content="http://localhost:4000/archive/1997/10/e62e6b9a0e68cd9696dfc851786c3962f5b5f9f31508fc82fbf117fd3b4a4fb1/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a><li><a href="/archive/">Posts by Year</a><li><a href="/authors/by-posts/">Authors by Post Number</a><li><a href="/authors/notable/">Notable Authors</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1997-10-09---6502-ml-programming">1997-10-09 - 6502 ML programming</h1><h2 id="header-data">Header Data</h2><p>From: Jim Choate &lt;ravage<span>@</span>ssz.com&gt;<br /> To: cypherpunks@ssz.com (Cypherpunks Distributed Remailer)<br /> Message Hash: e62e6b9a0e68cd9696dfc851786c3962f5b5f9f31508fc82fbf117fd3b4a4fb1<br /> Message ID: &lt;199710090439.XAA16340@einstein.ssz.com&gt;<br /> Reply To: <em>N/A</em><br /> UTC Datetime: 1997-10-09 04:20:40 UTC<br /> Raw Date: Thu, 9 Oct 1997 12:20:40 +0800<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: Jim Choate &lt;ravage@ssz.com&gt;
Date: Thu, 9 Oct 1997 12:20:40 +0800
To: cypherpunks@ssz.com (Cypherpunks Distributed Remailer)
Subject: 6502 ML programming
Message-ID: &lt;199710090439.XAA16340@einstein.ssz.com&gt;
MIME-Version: 1.0
Content-Type: text



Forwarded message:

&gt; Date: Wed, 8 Oct 1997 23:10:26 -0400
&gt; From: ghio@temp0132.myriad.ml.org (Matthew Ghio)
&gt; Subject: Re: [LONG, off-topic]] Interactive Programming

&gt; Reminds me of a time, years ago, where I was trying to modify a program
&gt; written in 6502 assembler.

&gt; Consider the following line of C code:
&gt; 
&gt;   result = function(x,y,z);
&gt; 
&gt; One could write this in 6502 assembler as:
&gt; 
&gt;   JSR function
&gt;   DATA x
&gt;   DATA y
&gt;   DATA z
&gt;   STA result
&gt; 
&gt; where x,y,z,result are pointers to storage locations.

There in no 'DATA' construct in 6502 assembly.

This is some sort of macro that either the assembler or programmer
defined. All official Rockwell/Commodore [1] 6502 assembly mnemonics are
three letter. There are NO official macro's from MOS Technologies under
either Rockwell or Commodore other than the ORG. ORG simply defined the
starting address for the target code.

The most efficient way to store data in 6502 is to put it in the first 256
bytes of ram, then it could be called in no more than 2 clock cycles. Also,
in 6502 good programmers use the branch instructions (BCC, BCS, BEO, BMI,
BNE, BPL, BVC, BVS) because the JSR required three bytes versus 2 bytes for
a Bxx. The only constraint was that the branch target must reside in the same
256 byte page as the branch itself. The biggest boo-boo committed here was not
realizing that branch offsets that took you across the upper page boundary
would leave you at the lower page boundary plus some remaining offset.

Idealy a jump table was created that had the various target addresses for your
routines. Then a Bxx followed by a indirect mode JMP (NOT a JSR). If that table
was in the first 256 bytes it was possible to save a whole clock cycle AND a
byte in the process. At 64k and 1Mhz clock these sorts of short-cuts were
significant.

Because of the architecture of the 6502 the 0 page of RAM was a very busy
place indeed because any operation there automaticaly saved a byte and a
clock cycle.



    ____________________________________________________________________
   |                                                                    |
   |    The financial policy of the welfare state requires that there   |
   |    be no way for the owners of wealth to protect themselves.       |
   |                                                                    |
   |                                       -Alan Greenspan-             |
   |                                                                    | 
   |            _____                             The Armadillo Group   |
   |         ,::////;::-.                           Austin, Tx. USA     |
   |        /:'///// ``::&gt;/|/                     http:// www.ssz.com/  |
   |      .',  ||||    `/( e\                                           |
   |  -====~~mm-'`-```-mm --'-                         Jim Choate       |
   |                                                 ravage@ssz.com     |
   |                                                  512-451-7087      |
   |____________________________________________________________________|


[1] Rockwell designed and sold the chip for several years and then in the
    late 70's Commodore bought MOS Technologies.

 






</code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1997/10">October 1997</a><li>Return to “<a href="/authors/ghio_at_temp0133_myriad_ml_org_matthew_ghio_">ghio<span>@</span>temp0133.myriad.ml.org (Matthew Ghio)</a>”<li>Return to “<a href="/authors/jim_choate_ravage_at_ssz_com_">Jim Choate &lt;ravage<span>@</span>ssz.com&gt;</a>”<li><p>Return to “<a href="/authors/jonathan_wienke_jonwienk_at_ix_netcom_com_">Jonathan Wienke &lt;JonWienk<span>@</span>ix.netcom.com&gt;</a>”<li>1997-10-09 (Thu, 9 Oct 1997 12:20:40 +0800) - 6502 ML programming - <em>Jim Choate &lt;ravage@ssz.com&gt;</em><ul><li>1997-10-09 (Thu, 9 Oct 1997 14:56:33 +0800) - <a href="/archive/1997/10/301797438c4a41d70ace666752a41d7cecc985fb4a11972e841a5bbeb2c5b363">Re: 6502 ML programming</a> - <em>ghio@temp0133.myriad.ml.org (Matthew Ghio)</em><li>1997-10-11 (Sat, 11 Oct 1997 12:29:14 +0800) - <a href="/archive/1997/10/6752bb4091242599dbe2df06f8a17fae62de8cb6f4eff67e12f781ce0ca6f383">Re: 6502 ML programming</a> - <em>Jonathan Wienke &lt;JonWienk@ix.netcom.com&gt;</em></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
