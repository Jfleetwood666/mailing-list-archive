<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="Bc1308818367b5f986c6ff8d0637d66b8823c2407b8c0c09df0161ae25f831d8" /><meta name="keywords" content="Bc1308818367b5f986c6ff8d0637d66b8823c2407b8c0c09df0161ae25f831d8, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="Bc1308818367b5f986c6ff8d0637d66b8823c2407b8c0c09df0161ae25f831d8" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1997/10/bc1308818367b5f986c6ff8d0637d66b8823c2407b8c0c09df0161ae25f831d8/" property="og:url"><meta content="2018-06-23T00:09:03+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="Bc1308818367b5f986c6ff8d0637d66b8823c2407b8c0c09df0161ae25f831d8"><meta name="twitter:url" content="http://localhost:4000/archive/1997/10/bc1308818367b5f986c6ff8d0637d66b8823c2407b8c0c09df0161ae25f831d8/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1997-10-09---re-long-off-topic-interactive-programming">1997-10-09 - Re: [LONG, off-topic]] Interactive Programming</h1><h2 id="header-data">Header Data</h2><p>From: ghio@temp0132.myriad.ml.org (Matthew Ghio)<br /> To: cypherpunks@cyberpass.net<br /> Message Hash: bc1308818367b5f986c6ff8d0637d66b8823c2407b8c0c09df0161ae25f831d8<br /> Message ID: &lt;199710090310.XAA29039@myriad&gt;<br /> Reply To: &lt;199710071346.GAA11853@toad.com&gt;<br /> UTC Datetime: 1997-10-09 03:17:09 UTC<br /> Raw Date: Thu, 9 Oct 1997 11:17:09 +0800<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: ghio@temp0132.myriad.ml.org (Matthew Ghio)
Date: Thu, 9 Oct 1997 11:17:09 +0800
To: cypherpunks@cyberpass.net
Subject: Re: [LONG, off-topic]] Interactive Programming
In-Reply-To: &lt;199710071346.GAA11853@toad.com&gt;
Message-ID: &lt;199710090310.XAA29039@myriad&gt;
MIME-Version: 1.0
Content-Type: text/plain



&gt;      In any event,
&gt;      I was impressed enough that I quit looking for the
&gt;      offending test,
&gt;      telling the Big Boss I couldn't find it.
&gt;      He didn't seem surprised.

Reminds me of a time, years ago, where I was trying to modify a program
written in 6502 assembler.

In addition to pervasive self-modifing code, another extremely popular
practice of the era was inlined function-call parameters.

Unlike the C approach, which most of you are probably familiar with, where
parameters are pushed onto the stack, then a subroutine is called which
pops them, instead the subroutine would pop the return address, and use it
as a pointer to the function parameters.  At the end of the function, the
return address pointer would be incremented and jumped to.

You're probably thinking, this is nuts.  Why would anyone do this?
Consider the following line of C code:

  result = function(x,y,z);

One could write this in 6502 assembler as:

  JSR function
  DATA x
  DATA y
  DATA z
  STA result

where x,y,z,result are pointers to storage locations.  This made coding
in assembler just as easy as coding in C, and it took less memory because
you didn't need all those push/pop instructions.  Doing this on a modern
processor would probably wreck havok on the decode pipeline.

Apple's ProDOS used this type of calling sequence, and most disassemblers
dealt with this special case by correctly identifying the parameters as
such.  But one of the worst I ran into was this:

  JSR printf
  ASC "Hello, world!",0
  ...

You can imagine what the disassembler did with that.  Spit out all sorts
of garbage as it tried to interpret the ASCII string "Hello, world!" as
machine instructions.

I encountered this in some BBS software, and had a real difficult time
reading it.  Finally I got the idea of taking the partially disassembled
code, identifying all the branch target addresses, then redisassembling
starting at those addresses.

It worked.  After a few iterations of this I had all the entry points, and
everything that didn't disassemble cleanly was outputted as hex data.

For fun, run objdump on a cleanly compiled unix binary... It makes it all
look so easy... :)






</code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1997/10">October 1997</a><li><p>1997-10-07 (Tue, 7 Oct 1997 22:03:12 +0800) - [Re: [LONG, off-topic]] Interactive Programming](/archive/1997/10/5422602f51bfbaa89eaf1bc8694d4fc22d297b9989692094974570ccbb573bcf) - <em>“Peter Trei” &lt;trei@process.com&gt;</em><ul><li>1997-10-07 (Wed, 8 Oct 1997 01:17:23 +0800) - [Re: [LONG, off-topic]] Interactive Programming](/archive/1997/10/bde8ad8886cafbfb1a642989391efd00589acae92d07bb6b8da36bd5f3381d56) - <em>Bill Frantz &lt;frantz@netcom.com&gt;</em><li>1997-10-07 (Wed, 8 Oct 1997 02:04:46 +0800) - <a href="/archive/1997/10/3e0990f98f43b6e83117b7442555d6e5be163bbaa2b83cd05cb490ae5c86fd8b">Good Old Mel …the penultimate hacker</a> - <em>“Attila T. Hun” &lt;attila@hun.org&gt;</em><li>1997-10-08 (Wed, 8 Oct 1997 17:39:08 +0800) - [Re: [LONG, off-topic]] Interactive Programming](/archive/1997/10/9ceef9a6af4932a5260cde093245119316b51f836164ec69db525b050876fe47) - <em>? the Platypus {aka David Formosa} &lt;dformosa@st.nepean.uws.edu.au&gt;</em><li>1997-10-09 (Thu, 9 Oct 1997 11:17:09 +0800) - Re: [LONG, off-topic]] Interactive Programming - <em>ghio@temp0132.myriad.ml.org (Matthew Ghio)</em></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
