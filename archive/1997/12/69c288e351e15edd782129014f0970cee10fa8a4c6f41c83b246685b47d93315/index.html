<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/static/img/favicons/favicon.ico" /><link rel="apple-touch-icon" sizes="57x57" href="/static/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/static/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/static/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/static/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/static/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/static/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/static/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/static/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/static/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/static/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/static/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicons/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><title>cryptoanarchy.wiki - Cypherpunks Mailing List Archive</title><meta name="author" content="cryptoanarchy.wiki" /><meta name="description" content="69c288e351e15edd782129014f0970cee10fa8a4c6f41c83b246685b47d93315" /><meta name="keywords" content="69c288e351e15edd782129014f0970cee10fa8a4c6f41c83b246685b47d93315, cryptoanarchy.wiki - Cypherpunks Mailing List Archive, " /><link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml"><meta content="" property="fb:app_id"><meta content="cryptoanarchy.wiki - Cypherpunks Mailing List Archive" property="og:site_name"><meta content="69c288e351e15edd782129014f0970cee10fa8a4c6f41c83b246685b47d93315" property="og:title"><meta content="article" property="og:type"><meta content="Arise, you have nothing to lose but your barbed wire fences!" property="og:description"><meta content="http://localhost:4000/archive/1997/12/69c288e351e15edd782129014f0970cee10fa8a4c6f41c83b246685b47d93315/" property="og:url"><meta content="2018-06-23T00:09:03+02:00" property="article:published_time"><meta content="http://localhost:4000/about/" property="article:author"><meta content="http://localhost:4000/static/img/avatar.jpg" property="og:image"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@_cryptoanarchy"><meta name="twitter:creator" content="@_cryptoanarchy"><meta name="twitter:title" content="69c288e351e15edd782129014f0970cee10fa8a4c6f41c83b246685b47d93315"><meta name="twitter:url" content="http://localhost:4000/archive/1997/12/69c288e351e15edd782129014f0970cee10fa8a4c6f41c83b246685b47d93315/"><meta name="twitter:description" content="Arise, you have nothing to lose but your barbed wire fences!"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><link rel="stylesheet" href="/static/css/syntax.css"><link href="/static/css/bootstrap.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/static/css/super-search.css"><link rel="stylesheet" href="/static/css/thickbox.css"><link rel="stylesheet" href="/static/css/projects.css"><link rel="stylesheet" href="/static/css/main.css"><body><div class="container"><div class="col-sm-3"><div class="fixed-condition"> <a href="/"><img class="profile-avatar" src="/static/img/avatar.jpg" height="75px" width="75px" /></a><h1 class="author-name"><a href="/">cryptoanarchy.wiki</a></h1><div class="profile-about"> Arise, you have nothing to lose but your barbed wire fences!</div><div class="social"><ul><li><a href="https://twitter.com/_cryptoanarchy" target="_blank"><i class="fa fa-twitter"></i></a><li><a href="https://www.facebook.com/cryptoanarchy.wiki" target="_blank"><i class="fa fa-facebook"></i></a><li><a href="https://github.com/cryptoanarchywiki" target="_blank"><i class="fa fa-github"></i></a></ul></div><hr /><ul class="sidebar-nav"> <strong>Navigation</strong><li><a href="https://cryptoanarchy.wiki">Return to cryptoanarchy.wiki</a><li><a href="/">Archive Home</a></ul><hr><ul class="sidebar-nav"> <strong>Similar Resources</strong><li><a class="about" href="https://lopp.net/bitcoin.html" target="_blank">Lopp's Bitcoin Resources</a><li><a class="about" href="https://nakamotoinstitute.org/" target="_blank">Satoshi Nakamoto Institute</a><li><a class="about" href="https://www.activism.net/cypherpunk/" target="_blank">Activism.net: Cypherpunks</a></ul></div></div><div class="col-sm-8 col-offset-1 main-layout"><h1 id="1997-12-21---re-ecb-cbc-cfb-ofb">1997-12-21 - RE: ECB, CBC, CFB, OFB</h1><h2 id="header-data">Header Data</h2><p>From: “Johnson, Michael P (Mike)” &lt;JohnsMP@LOUISVILLE.STORTEK.COM&gt;<br /> To: “‘cypherpunks@Algebra.COM&gt;<br /> Message Hash: 69c288e351e15edd782129014f0970cee10fa8a4c6f41c83b246685b47d93315<br /> Message ID: &lt;c=US%a=<em>%p=Stortek%l=LSV-MSG06-971221014643Z-85371@lsv-bridge.stortek.com&gt;<br /> Reply To: _N/A</em><br /> UTC Datetime: 1997-12-21 01:51:32 UTC<br /> Raw Date: Sun, 21 Dec 1997 09:51:32 +0800<br /><h2 id="raw-message">Raw message</h2><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From: "Johnson, Michael P (Mike)" &lt;JohnsMP@LOUISVILLE.STORTEK.COM&gt;
Date: Sun, 21 Dec 1997 09:51:32 +0800
To: "'cypherpunks@Algebra.COM&gt;
Subject: RE: ECB, CBC, CFB, OFB
Message-ID: &lt;c=US%a=_%p=Stortek%l=LSV-MSG06-971221014643Z-85371@lsv-bridge.stortek.com&gt;
MIME-Version: 1.0
Content-Type: text/plain




&gt;Somebody asked:
&gt;&gt;Can somebody more experienced than I am explain the strengths and weaknesses
&gt;&gt;of these encryption modes as applied to CAST, IDEA, DES, and Blowfish?
&gt;
&gt;&gt;              ecb    Electronic codebook mode
&gt;&gt;                     c[i] = f1(K, p[i])
&gt;&gt;                     p[i] = f2(K, c[i])

This is the weakest mode. Patterns in the plain text tend to cause
repeated blocks in the output, causing some information leakage. This
mode is really only suitable if you have exactly one block or less to
encrypt or if random access at the block level is critical. An error in
the ciphertext or plaintext only affects one block, as long as bit count
integrity is maintained.

&gt;&gt;              cbc    Ciphertext block chaining mode
&gt;&gt;                     c[i] = f1(K, p[i]) ^ c[i-1]
&gt;&gt;                     p[i] = f2(K, c[i]) ^ c[i-1]

This is good at preventing information leakage. A one bit error in the
ciphertext causes a one block error in the plain text =&gt; reasonable
balance between tamper detection and error resistance. This mode is
commonly used.

&gt;&gt;              cfb    Ciphertext feeback mode
&gt;&gt;                     c[i] = f1(K, c[i-1]) ^ p[i]
&gt;&gt;                     p[i] = f1(K, c[i-1]) ^ c[i]

This is good at preventing information leakage. A one bit error in the
ciphertext causes a one bit error in the plain text =&gt; good for use in
high noise environments where error detection and correction is
(inexplicably) not used and tamper detection is not as critical. Doesn't
require a decryption mode, so a hash function like SHA1 could be used in
this mode instead of a general block cipher.

&gt;&gt;              ofb    Output feeback mode
&gt;&gt;                     h[i] = f1(K, h[i-1])
&gt;&gt;                     c[i] = p[i] ^ h[i]
&gt;&gt;                     p[i] = c[i] ^ h[i]

This mode essentially turns a block cipher into a stream cipher without
feedback. It must be used with the same caution as such a cipher. In
other words, the same stream should not be reused, but a new starting
point (initialization vector = h[-1]) and/or key should be chosen for
each message. No padding or data size expansion is necessary.

Several other modes are possible...

For really slow performance, you can try some kind of key feedback. :-)
   K[i] = K[i-1] ^ p[i-1]   or maybe   K[i] = e(K[i-1], K[i-2])
   c[i] = e(K[i], p[i])
   p[i] = d(K[i], c[i])
Caution: bizarre modes may not be well analyzed... although I think some
key feedback modes have merit when you are trying to slow an attacker
down. They might really mess up specialized cracking hardware. :-)







</code></pre></div></div><h2 id="thread">Thread</h2><ul><li><p>Return to <a href="/archive/1997/12">December 1997</a><li><p>1997-12-21 (Sun, 21 Dec 1997 09:51:32 +0800) - RE: ECB, CBC, CFB, OFB - <em>“Johnson, Michael P (Mike)” &lt;JohnsMP@LOUISVILLE.STORTEK.COM&gt;</em><ul><li>1997-12-21 (Sun, 21 Dec 1997 15:28:21 +0800) - <a href="/archive/1997/12/aeeaac8469516a3dbd53c60ab22362ada7b337c187186b2eb23380060246398c">RE: ECB, CBC, CFB, OFB</a> - <em>Bill Frantz &lt;frantz@netcom.com&gt;</em><li>1997-12-22 (Tue, 23 Dec 1997 02:17:32 +0800) - <a href="/archive/1997/12/16e496cf8b99615bb6f9d451c81e1ed59b75174c0433c81e236881c5a2945d6a">Question on CFB variant with c[i-N]</a> - <em>David Honig &lt;honig@otc.net&gt;</em><ul><li>1997-12-24 (Wed, 24 Dec 1997 13:32:28 +0800) - <a href="/archive/1997/12/1100c57994faf81536f14c02609ab96e90e7ef0ef485d444219f838c779baabd">Re: Question on CFB variant with c[i-N]</a> - <em>Bill Stewart &lt;bill.stewart@pobox.com&gt;</em></ul><li>1997-12-22 (Tue, 23 Dec 1997 05:03:43 +0800) - <a href="/archive/1997/12/675edea9bfd7f5b26b9ded49f608cde7a22df5800228418f3644d4844a812294">Re: Question on CFB variant with c[i-N]</a> - <em>Bruce Schneier &lt;schneier@counterpane.com&gt;</em></ul></ul><footer> - <a href="https://github.com/cryptoanarchywiki/mailing-list-archive">https://github.com/cryptoanarchywiki/mailing-list-archive</a></footer></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script> <script src="/static/js/bootstrap.min.js"></script> <script src="/static/js/super-search.js"></script> <script src="/static/js/thickbox-compressed.js"></script> <script src="/static/js/projects.js"></script>
